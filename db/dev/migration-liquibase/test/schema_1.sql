-- liquibase formatted sql

-- changeset angelchang:1
CREATE TABLE IF NOT EXISTS "admin_role" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "role_name" TEXT NOT NULL, "user_id" INTEGER, CONSTRAINT "admin_role_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE admin_role;

-- changeset angelchang:2
CREATE TABLE IF NOT EXISTS "affiliate" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "name" TEXT NOT NULL, "identify_rule" TEXT, "message" TEXT, "endpoint" TEXT, "status" TEXT NOT NULL, "belongs" VARCHAR, "translations" TEXT DEFAULT '{}' NOT NULL, CONSTRAINT "affiliate_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE affiliate;

-- changeset angelchang:3
CREATE TABLE IF NOT EXISTS "affiliate_code" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "invite_code" TEXT NOT NULL, "affiliate_id" INTEGER NOT NULL, CONSTRAINT "affiliate_code_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE affiliate_code;

-- changeset angelchang:4
CREATE TABLE IF NOT EXISTS "affiliate_connect" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "identify" TEXT, "user_id" INTEGER, "affiliate_id" INTEGER NOT NULL, "role" TEXT NOT NULL, "status" TEXT NOT NULL, "affiliate_code_id" INTEGER, CONSTRAINT "affiliate_connect_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE affiliate_connect;

-- changeset angelchang:5
CREATE TABLE IF NOT EXISTS "alert_setting" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "notify_single_extremely_low" BOOLEAN, "notify_single_extremely_high" BOOLEAN, "notify_consecutive_high" BOOLEAN, "notify_frequent_low" BOOLEAN, "notify_consistent_low_time_of_day" BOOLEAN, "notify_consistent_high_time_of_day" BOOLEAN, "notify_high_blood_variability_multi" BOOLEAN, "notify_high_blood_variability" BOOLEAN, "single_extremely_low_threshold" numeric, "single_extremely_high_threshold" numeric, "consecutive_high_threshold" INTEGER, "frequent_low_threshold" INTEGER, "care_connect_id" INTEGER NOT NULL, CONSTRAINT "alert_setting_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE alert_setting;

-- changeset angelchang:6
CREATE TABLE IF NOT EXISTS "android_device_pattern" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "user_id" INTEGER NOT NULL, "get_pattern" INTEGER, "send_pattern" INTEGER, "send_stop_bit_len" INTEGER, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "brand" TEXT NOT NULL, "model" TEXT NOT NULL, "status" TEXT NOT NULL, "filename" TEXT, "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), CONSTRAINT "android_device_pattern_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE android_device_pattern;

-- changeset angelchang:7
CREATE TABLE IF NOT EXISTS "antz" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "task" TEXT NOT NULL, "fired_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "status" TEXT NOT NULL, "user_id" INTEGER NOT NULL, "args" TEXT DEFAULT '{}', "subscribed_id" INTEGER, CONSTRAINT "antz_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE antz;

-- changeset angelchang:8
CREATE TABLE IF NOT EXISTS "api_log" ("id" BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL, "user_id" INTEGER, "endpoint" TEXT, "ip" TEXT, "method" TEXT, "params" TEXT, "user_agent" TEXT, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "take_time" numeric, "app_version" TEXT, "response_code" INTEGER, CONSTRAINT "api_log_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE api_log;

-- changeset angelchang:9
CREATE TABLE IF NOT EXISTS "app_alert_setting" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "medication" TEXT DEFAULT '{}' NOT NULL, "user_id" INTEGER NOT NULL, CONSTRAINT "app_alert_setting_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE app_alert_setting;

-- changeset angelchang:10
CREATE TABLE IF NOT EXISTS "app_log" ("id" BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL, "user_id" INTEGER NOT NULL, "log" TEXT NOT NULL, "category" TEXT NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), CONSTRAINT "app_log_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE app_log;

-- changeset angelchang:11
CREATE TABLE IF NOT EXISTS "app_version" ("id" BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "os_name" TEXT, "latest" TEXT DEFAULT '1.0.0', "lowest" TEXT DEFAULT '1.0.0', CONSTRAINT "app_version_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE app_version;

-- changeset angelchang:12
CREATE TABLE IF NOT EXISTS "auth_apple" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "email" VARCHAR(255), "user_identifier" VARCHAR(255) NOT NULL, "access_token" TEXT NOT NULL, "id_token" TEXT NOT NULL, "refresh_token" TEXT NOT NULL, "user_id" INTEGER, CONSTRAINT "auth_apple_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE auth_apple;

-- changeset angelchang:13
CREATE TABLE IF NOT EXISTS "care_connect" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "identify" TEXT, "role" TEXT NOT NULL, "user_id" INTEGER, "clinic_id" INTEGER NOT NULL, "status" TEXT NOT NULL, "educator_id" INTEGER, "clinic_code_id" INTEGER, "last_login" TIMESTAMP WITHOUT TIME ZONE, "last_viewed_at" TIMESTAMP WITHOUT TIME ZONE, "last_viewed_user_id" INTEGER, "accepted_tos_at" TIMESTAMP WITHOUT TIME ZONE, CONSTRAINT "care_connect_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE care_connect;

-- changeset angelchang:14
CREATE TABLE IF NOT EXISTS "care_viewed_connect" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "active" BOOLEAN DEFAULT TRUE NOT NULL, "care_connect_id" INTEGER NOT NULL, "user_id" INTEGER, "section" VARCHAR DEFAULT 'data' NOT NULL, "user_stream_id" INTEGER, CONSTRAINT "care_viewed_connect_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE care_viewed_connect;

-- changeset angelchang:15
CREATE TABLE IF NOT EXISTS "cgm_sync_history" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "serial_number" TEXT NOT NULL, "records" TEXT DEFAULT '{}' NOT NULL, "exported" BOOLEAN DEFAULT FALSE, "count" INTEGER DEFAULT 0 NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "deleted_at" TIMESTAMP WITHOUT TIME ZONE, "clinic_id" INTEGER NOT NULL, "user_id" INTEGER NOT NULL, "updated_by" INTEGER NOT NULL, "refer_number" INTEGER, "record_from" TIMESTAMP WITHOUT TIME ZONE, "record_to" TIMESTAMP WITHOUT TIME ZONE, CONSTRAINT "cgm_sync_history_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE cgm_sync_history;

-- changeset angelchang:16
CREATE TABLE IF NOT EXISTS "clinic" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "name" TEXT NOT NULL, "address" TEXT, "phone_number" TEXT, "status" TEXT NOT NULL, "identify_rule" TEXT, "message" TEXT, "endpoint" TEXT, "measurement_timing" TEXT, "allow_view_all" BOOLEAN, "lang" TEXT DEFAULT 'en-us' NOT NULL, "hide_manually" BOOLEAN DEFAULT FALSE NOT NULL, "picture_url" TEXT, "payment_required" BOOLEAN DEFAULT FALSE, "category" TEXT DEFAULT 'clinic' NOT NULL, "identify_label" TEXT DEFAULT 'Social Security number' NOT NULL, "pricing" VARCHAR DEFAULT 'paid', "belongs" VARCHAR, "first_message" TEXT, "translations" TEXT DEFAULT '{}' NOT NULL, "auto_reply_message" TEXT, "msd_created_at" TIMESTAMP WITHOUT TIME ZONE, "medical_institution_code" VARCHAR, "allow_auto_reply" BOOLEAN DEFAULT FALSE, "auto_reply_activated" BOOLEAN DEFAULT FALSE, "auto_reply_frequency" TEXT, "account_manager_id" INTEGER, "deleted_at" TIMESTAMP WITHOUT TIME ZONE, "is_demo" BOOLEAN DEFAULT FALSE, "assign_patient_by_invitation_code" BOOLEAN DEFAULT FALSE, "features" TEXT[], "emr_type" TEXT, "show_medical_record_number" BOOLEAN DEFAULT TRUE, "allowed_ip_addresses" TEXT, "allow_librelink" BOOLEAN DEFAULT FALSE, "country_id" INTEGER, "limit_email_reminder_to_assignees" BOOLEAN DEFAULT FALSE, "allow_prior_lab_data" BOOLEAN DEFAULT FALSE, CONSTRAINT "clinic_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE clinic;

-- changeset angelchang:17
CREATE TABLE IF NOT EXISTS "clinic_chart" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "care_connect_id" INTEGER NOT NULL, "diabetes_type" TEXT DEFAULT 'N/A' NOT NULL, "phone_number" TEXT, "emergency_contact_phone" TEXT, "language" TEXT, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "emergency_contact" TEXT, "waist" numeric, "body_fat" numeric, "height" numeric, "weight" numeric, "diagnosed_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "waist_unit" TEXT, "height_unit" TEXT, "weight_unit" TEXT, "birthday" date, "gender" TEXT, "status" TEXT DEFAULT 'active' NOT NULL, "created_by" INTEGER, "diabetes_duration" TEXT, "diabetes_medication" TEXT, "medical_record_number" VARCHAR, "cell_phone_number" VARCHAR, "city_code" VARCHAR, "address" TEXT, "first_name" VARCHAR DEFAULT '' NOT NULL, "last_name" VARCHAR DEFAULT '' NOT NULL, "user_id" INTEGER NOT NULL, "clinic_id" INTEGER NOT NULL, "furigana_first_name" TEXT, "furigana_last_name" TEXT, CONSTRAINT "clinic_chart_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE clinic_chart;

-- changeset angelchang:18
CREATE TABLE IF NOT EXISTS "clinic_code" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "invite_code" TEXT NOT NULL, "clinic_id" INTEGER NOT NULL, "care_connect_id" INTEGER, CONSTRAINT "clinic_code_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE clinic_code;

-- changeset angelchang:19
CREATE TABLE IF NOT EXISTS "clinic_config" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "height_unit" TEXT NOT NULL, "weight_unit" TEXT NOT NULL, "waist_unit" TEXT NOT NULL, "cholesterol_tg" TEXT NOT NULL, "urine_acr_pcr" TEXT NOT NULL, "creatinine_bun" TEXT NOT NULL, "alb" TEXT NOT NULL, "clinic_id" INTEGER NOT NULL, "glucose_unit" TEXT DEFAULT 'mg/dL' NOT NULL, "marker" TEXT DEFAULT '{}' NOT NULL, "hide_input_bar" BOOLEAN DEFAULT FALSE, "reminder_data" TEXT DEFAULT '{}' NOT NULL, "show_upload_photo_bar" BOOLEAN DEFAULT FALSE, "hide_payment_tos" BOOLEAN DEFAULT FALSE, "fbg_reminder_activated" BOOLEAN DEFAULT TRUE, "allow_view_exam" BOOLEAN DEFAULT TRUE, CONSTRAINT "clinic_config_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE clinic_config;

-- changeset angelchang:20
CREATE TABLE IF NOT EXISTS "clinic_daily_comment" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "date" date NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "comment" TEXT NOT NULL, "user_id" INTEGER NOT NULL, "clinic_id" INTEGER NOT NULL, "created_by" INTEGER, CONSTRAINT "clinic_daily_comment_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE clinic_daily_comment;

-- changeset angelchang:21
CREATE TABLE IF NOT EXISTS "clinic_default_analytics_monthly_stats" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "clinic_id" INTEGER NOT NULL, "country_iso_2" TEXT NOT NULL, "is_pseudo_included" BOOLEAN DEFAULT FALSE NOT NULL, "year" INTEGER NOT NULL, "month" INTEGER NOT NULL, "patient" TEXT DEFAULT '{}' NOT NULL, "a1c" TEXT DEFAULT '{}' NOT NULL, "ldlc" TEXT DEFAULT '{}' NOT NULL, "egfr" TEXT DEFAULT '{}' NOT NULL, "uacr" TEXT DEFAULT '{}' NOT NULL, "fbg" TEXT DEFAULT '{}' NOT NULL, "pre_meal_bg" TEXT DEFAULT '{}' NOT NULL, "post_meal_bg" TEXT DEFAULT '{}' NOT NULL, "bp" TEXT DEFAULT '{}' NOT NULL, "oral_medicine" TEXT DEFAULT '[]' NOT NULL, "injectable_insulin" TEXT DEFAULT '[]' NOT NULL, "diabetes_medication_combination" TEXT DEFAULT '[]' NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), CONSTRAINT "clinic_default_analytics_monthly_stats_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE clinic_default_analytics_monthly_stats;

-- changeset angelchang:22
CREATE TABLE IF NOT EXISTS "clinic_default_analytics_quarterly_stats" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "clinic_id" INTEGER NOT NULL, "country_iso_2" TEXT NOT NULL, "is_pseudo_included" BOOLEAN DEFAULT FALSE NOT NULL, "year" INTEGER NOT NULL, "quarter" INTEGER NOT NULL, "patient" TEXT DEFAULT '{}' NOT NULL, "a1c" TEXT DEFAULT '{}' NOT NULL, "ldlc" TEXT DEFAULT '{}' NOT NULL, "egfr" TEXT DEFAULT '{}' NOT NULL, "uacr" TEXT DEFAULT '{}' NOT NULL, "fbg" TEXT DEFAULT '{}' NOT NULL, "pre_meal_bg" TEXT DEFAULT '{}' NOT NULL, "post_meal_bg" TEXT DEFAULT '{}' NOT NULL, "bp" TEXT DEFAULT '{}' NOT NULL, "oral_medicine" TEXT DEFAULT '[]' NOT NULL, "injectable_insulin" TEXT DEFAULT '[]' NOT NULL, "diabetes_medication_combination" TEXT DEFAULT '[]' NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), CONSTRAINT "clinic_default_analytics_quarterly_stats_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE clinic_default_analytics_quarterly_stats;

-- changeset angelchang:23
CREATE TABLE IF NOT EXISTS "clinic_default_analytics_yearly_stats" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "clinic_id" INTEGER NOT NULL, "country_iso_2" TEXT NOT NULL, "is_pseudo_included" BOOLEAN DEFAULT FALSE NOT NULL, "year" INTEGER NOT NULL, "patient" TEXT DEFAULT '{}' NOT NULL, "a1c" TEXT DEFAULT '{}' NOT NULL, "ldlc" TEXT DEFAULT '{}' NOT NULL, "egfr" TEXT DEFAULT '{}' NOT NULL, "uacr" TEXT DEFAULT '{}' NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), CONSTRAINT "clinic_default_analytics_yearly_stats_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE clinic_default_analytics_yearly_stats;

-- changeset angelchang:24
CREATE TABLE IF NOT EXISTS "clinic_discount" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "sponsor" TEXT, "program" TEXT, "status" TEXT NOT NULL, "price" INTEGER DEFAULT 0 NOT NULL, "cycle" INTEGER DEFAULT 1 NOT NULL, "duration" INTEGER DEFAULT 1 NOT NULL, "clinic_id" INTEGER, "plan_id" INTEGER, "cycle_unit" TEXT DEFAULT 'Month', CONSTRAINT "clinic_discount_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE clinic_discount;

-- changeset angelchang:25
CREATE TABLE IF NOT EXISTS "clinic_discount_code" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "code" TEXT NOT NULL, "status" TEXT NOT NULL, "discount_id" INTEGER NOT NULL, "subscription_id" INTEGER, "user_id" INTEGER, CONSTRAINT "clinic_discount_code_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE clinic_discount_code;

-- changeset angelchang:26
CREATE TABLE IF NOT EXISTS "clinic_exam_chart" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "deleted_at" TIMESTAMP WITHOUT TIME ZONE, "item_keys" TEXT[] NOT NULL, "type" TEXT NOT NULL, "clinic_id" INTEGER NOT NULL, CONSTRAINT "clinic_exam_chart_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE clinic_exam_chart;

-- changeset angelchang:27
CREATE TABLE IF NOT EXISTS "clinic_exam_unit" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "deleted_at" TIMESTAMP WITHOUT TIME ZONE, "hba1c" TEXT DEFAULT '%' NOT NULL, "total_cholesterol" TEXT DEFAULT 'mg/dL' NOT NULL, "ldl_c" TEXT DEFAULT 'mg/dL' NOT NULL, "hdl_c" TEXT DEFAULT 'mg/dL' NOT NULL, "tg" TEXT DEFAULT 'mg/dL' NOT NULL, "creatinine" TEXT DEFAULT 'mg/dL' NOT NULL, "urine_acr" TEXT DEFAULT 'mg/g' NOT NULL, "urine_pcr" TEXT DEFAULT 'mg/g' NOT NULL, "bun" TEXT DEFAULT 'mg/dL' NOT NULL, "glucose_ac" TEXT DEFAULT 'mg/dL' NOT NULL, "glucose_2hr_pc" TEXT DEFAULT 'mg/dL' NOT NULL, "hemoglobin" TEXT DEFAULT 'g/dL' NOT NULL, "mchc" TEXT DEFAULT 'g/dL' NOT NULL, "uric_acid" TEXT DEFAULT 'mg/dL' NOT NULL, "microalbumin" TEXT DEFAULT 'mg/L' NOT NULL, "creatinine_urine" TEXT DEFAULT 'mg/dL' NOT NULL, "ast" TEXT DEFAULT 'U/L' NOT NULL, "alt" TEXT DEFAULT 'U/L' NOT NULL, "ggt" TEXT DEFAULT 'U/L' NOT NULL, "total_protein" TEXT DEFAULT 'g/dL' NOT NULL, "albumin" TEXT DEFAULT 'g/dL' NOT NULL, "globulin" TEXT DEFAULT 'g/dL' NOT NULL, "total_bilirubin" TEXT DEFAULT 'mg/dL' NOT NULL, "direct_bilirubin" TEXT DEFAULT 'mg/dL' NOT NULL, "alp" TEXT DEFAULT 'U/L' NOT NULL, "amylase" TEXT DEFAULT 'U/L' NOT NULL, "ck" TEXT DEFAULT 'U/L' NOT NULL, "ldh" TEXT DEFAULT 'U/L' NOT NULL, "cortisol" TEXT DEFAULT 'µg/dL' NOT NULL, "tsh" TEXT DEFAULT 'µIU/mL' NOT NULL, "t3_triiodothyronine" TEXT DEFAULT 'ng/dL' NOT NULL, "t4_thyroxine" TEXT DEFAULT 'µg/dL' NOT NULL, "free_t4" TEXT DEFAULT 'ng/dL' NOT NULL, "pth" TEXT DEFAULT 'pg/mL' NOT NULL, "sodium" TEXT DEFAULT 'mmol/L' NOT NULL, "potassium" TEXT DEFAULT 'mmol/L' NOT NULL, "calcium" TEXT DEFAULT 'mmol/L' NOT NULL, "magnesium" TEXT DEFAULT 'mmol/L' NOT NULL, "phosphate" TEXT DEFAULT 'mg/dL' NOT NULL, "iron" TEXT DEFAULT 'µg/dL' NOT NULL, "tibc" TEXT DEFAULT 'µg/dL' NOT NULL, "ferritin" TEXT DEFAULT 'ng/mL' NOT NULL, "clinic_id" INTEGER NOT NULL, CONSTRAINT "clinic_exam_unit_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE clinic_exam_unit;

-- changeset angelchang:28
CREATE TABLE IF NOT EXISTS "clinic_feature" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "deleted_at" TIMESTAMP WITHOUT TIME ZONE, "name" TEXT NOT NULL, "clinic_id" INTEGER NOT NULL, CONSTRAINT "clinic_feature_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE clinic_feature;

-- changeset angelchang:29
CREATE TABLE IF NOT EXISTS "clinic_group" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "name" TEXT NOT NULL, "status" TEXT NOT NULL, "clinic_id" INTEGER NOT NULL, "category" VARCHAR DEFAULT 'custom_group', CONSTRAINT "clinic_group_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE clinic_group;

-- changeset angelchang:30
CREATE TABLE IF NOT EXISTS "clinic_group_connect" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "status" TEXT NOT NULL, "user_id" INTEGER NOT NULL, "clinic_group_id" INTEGER NOT NULL, CONSTRAINT "clinic_group_connect_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE clinic_group_connect;

-- changeset angelchang:31
CREATE TABLE IF NOT EXISTS "clinic_loyalty_rule" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "deleted_at" TIMESTAMP WITHOUT TIME ZONE, "name" TEXT NOT NULL, "points" INTEGER DEFAULT 0 NOT NULL, "picture_url" TEXT, "translations" TEXT DEFAULT '{}' NOT NULL, "action" TEXT, "description" TEXT, "brand" TEXT, "medfirst_qrcode" TEXT, "wellcare_qrcode" TEXT, "comment" TEXT, "remark" TEXT, "factor" INTEGER NOT NULL, "allow_store_code_categories" TEXT[] DEFAULT ARRAY[]::character varying[], "clinic_id" INTEGER NOT NULL, "dingding_qrcode" TEXT, "other_stores_qrcode" TEXT, CONSTRAINT "clinic_loyalty_rule_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE clinic_loyalty_rule;

-- changeset angelchang:32
CREATE TABLE IF NOT EXISTS "clinic_loyalty_transaction" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "points" INTEGER DEFAULT 0 NOT NULL, "store_code" TEXT, "remark" TEXT, "user_id" INTEGER NOT NULL, "diary_id" INTEGER, "clinic_loyalty_rule_id" INTEGER, "clinic_id" INTEGER NOT NULL, "care_connect_id" INTEGER, "redemption_id" INTEGER, "comment" TEXT, CONSTRAINT "clinic_loyalty_transaction_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE clinic_loyalty_transaction;

-- changeset angelchang:33
CREATE TABLE IF NOT EXISTS "clinic_mark" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "status" TEXT NOT NULL, "clinic_id" INTEGER NOT NULL, "user_id" INTEGER NOT NULL, "updated_by_id" INTEGER NOT NULL, CONSTRAINT "clinic_mark_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE clinic_mark;

-- changeset angelchang:34
CREATE TABLE IF NOT EXISTS "clinic_medicine" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "deleted_at" TIMESTAMP WITHOUT TIME ZONE, "app_display_name" VARCHAR NOT NULL, "pm_display_name" VARCHAR, "medicine_type" VARCHAR NOT NULL, "schedule" TEXT DEFAULT '{}' NOT NULL, "unit" VARCHAR NOT NULL, "clinic_id" INTEGER NOT NULL, "updated_by" INTEGER, "oral_medicine_id" INTEGER, "insulin_id" INTEGER, "uid" INTEGER, "medicine_code" VARCHAR, "emr_record_id" INTEGER, "user_prescription_qr_code_id" INTEGER, "custom_medicine_code" VARCHAR, "deprecated" BOOLEAN DEFAULT FALSE, CONSTRAINT "clinic_medicine_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE clinic_medicine;

-- changeset angelchang:35
CREATE TABLE IF NOT EXISTS "clinic_message_images" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "status" TEXT NOT NULL, "url" TEXT NOT NULL, "user_id" INTEGER NOT NULL, "clinic_id" INTEGER NOT NULL, "checksum" TEXT NOT NULL, CONSTRAINT "clinic_message_images_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE clinic_message_images;

-- changeset angelchang:36
CREATE TABLE IF NOT EXISTS "clinic_message_pdf" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "status" TEXT NOT NULL, "user_id" INTEGER NOT NULL, "clinic_id" INTEGER NOT NULL, "filename" TEXT NOT NULL, "url" TEXT NOT NULL, "checksum" TEXT NOT NULL, CONSTRAINT "clinic_message_pdf_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE clinic_message_pdf;

-- changeset angelchang:37
CREATE TABLE IF NOT EXISTS "clinic_message_templates" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "message" TEXT NOT NULL, "clinic_id" INTEGER, "status" TEXT, "user_id" INTEGER NOT NULL, CONSTRAINT "clinic_message_templates_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE clinic_message_templates;

-- changeset angelchang:38
CREATE TABLE IF NOT EXISTS "clinic_meter_program" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "deleted_at" TIMESTAMP WITHOUT TIME ZONE, "vendor" TEXT NOT NULL, "clinic_id" INTEGER NOT NULL, CONSTRAINT "clinic_meter_program_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE clinic_meter_program;

-- changeset angelchang:39
CREATE TABLE IF NOT EXISTS "clinic_meter_program_history" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "deleted_at" TIMESTAMP WITHOUT TIME ZONE, "date" date NOT NULL, "patient_redeem_times" INTEGER DEFAULT 0 NOT NULL, "new_joined_balance" INTEGER DEFAULT 0 NOT NULL, "new_joined_redeem" INTEGER DEFAULT 0 NOT NULL, "points_balance" INTEGER DEFAULT 0 NOT NULL, "points_redeem" INTEGER DEFAULT 0 NOT NULL, "clinic_id" INTEGER NOT NULL, "clinic_meter_program_id" INTEGER NOT NULL, CONSTRAINT "clinic_meter_program_history_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE clinic_meter_program_history;

-- changeset angelchang:40
CREATE TABLE IF NOT EXISTS "clinic_meter_program_transaction" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "deleted_at" TIMESTAMP WITHOUT TIME ZONE, "points" INTEGER NOT NULL, "clinic_id" INTEGER NOT NULL, "clinic_meter_program_id" INTEGER NOT NULL, "clinic_loyalty_transaction_id" INTEGER, CONSTRAINT "clinic_meter_program_transaction_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE clinic_meter_program_transaction;

-- changeset angelchang:41
CREATE TABLE IF NOT EXISTS "clinic_note" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "comment" TEXT NOT NULL, "status" VARCHAR NOT NULL, "user_id" INTEGER NOT NULL, "clinic_id" INTEGER NOT NULL, "created_by" INTEGER NOT NULL, CONSTRAINT "clinic_note_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE clinic_note;

-- changeset angelchang:42
CREATE TABLE IF NOT EXISTS "clinic_note_tag" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "value" INTEGER NOT NULL, "clinic_note_id" INTEGER NOT NULL, CONSTRAINT "clinic_note_tag_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE clinic_note_tag;

-- changeset angelchang:43
CREATE TABLE IF NOT EXISTS "clinic_notification_setting" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "notification_enabled" BOOLEAN, "automated_analysis_enabled" BOOLEAN, "clinic_id" INTEGER NOT NULL, "user_id" INTEGER NOT NULL, "medication_reminder_enabled" BOOLEAN DEFAULT TRUE, CONSTRAINT "clinic_notification_setting_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE clinic_notification_setting;

-- changeset angelchang:44
CREATE TABLE IF NOT EXISTS "clinic_plan" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "name" TEXT NOT NULL, "price" INTEGER DEFAULT 0 NOT NULL, "status" TEXT NOT NULL, "details" TEXT DEFAULT '[]' NOT NULL, "clinic_id" INTEGER NOT NULL, "special_offer" INTEGER DEFAULT 0 NOT NULL, "cycle" INTEGER DEFAULT 1 NOT NULL, "description" TEXT, "slug" VARCHAR, "coordinates" TEXT DEFAULT '[]' NOT NULL, "only_once" BOOLEAN DEFAULT FALSE, "state" VARCHAR DEFAULT 'open', "video_url" VARCHAR, "syllabus" TEXT, "suits" TEXT DEFAULT '[]' NOT NULL, "expired_message" TEXT, "cover_url" VARCHAR, "key_points" TEXT DEFAULT '[]' NOT NULL, "currency_code" TEXT, "cycle_unit" TEXT DEFAULT 'Month', "hide_price" BOOLEAN DEFAULT FALSE, CONSTRAINT "clinic_plan_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE clinic_plan;

-- changeset angelchang:45
CREATE TABLE IF NOT EXISTS "clinic_plan_waiting" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "plan_id" INTEGER NOT NULL, "user_id" INTEGER NOT NULL, CONSTRAINT "clinic_plan_waiting_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE clinic_plan_waiting;

-- changeset angelchang:46
CREATE TABLE IF NOT EXISTS "clinic_point" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "points" INTEGER DEFAULT 0 NOT NULL, "store_code" VARCHAR, "status" TEXT NOT NULL, "user_id" INTEGER NOT NULL, "diary_id" INTEGER, "reward_id" INTEGER, "care_connect_id" INTEGER, "clinic_id" INTEGER NOT NULL, "remark" VARCHAR, "redemption_id" INTEGER, "a1c_id" INTEGER, CONSTRAINT "clinic_point_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE clinic_point;

-- changeset angelchang:47
CREATE TABLE IF NOT EXISTS "clinic_prescription" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "deleted_at" TIMESTAMP WITHOUT TIME ZONE, "start_date" date NOT NULL, "expire_days" INTEGER NOT NULL, "days_per_fill" INTEGER, "medicines_data" TEXT DEFAULT '[]' NOT NULL, "clinic_id" INTEGER NOT NULL, "updated_by" INTEGER, "user_id" INTEGER NOT NULL, "parent_clinic_prescription_id" INTEGER, "outcome" TEXT DEFAULT '{}' NOT NULL, "clinic_note_id" INTEGER, "emr_record_id" INTEGER, "user_prescription_qr_code_id" INTEGER, CONSTRAINT "clinic_prescription_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE clinic_prescription;

-- changeset angelchang:48
CREATE TABLE IF NOT EXISTS "clinic_program" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "status" VARCHAR NOT NULL, "start_date" date NOT NULL, "months" INTEGER DEFAULT 0 NOT NULL, "reason" TEXT, "clinic_id" INTEGER NOT NULL, "updated_by" INTEGER, "sponsor_id" INTEGER, "join_date" date, CONSTRAINT "clinic_program_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE clinic_program;

-- changeset angelchang:49
CREATE TABLE IF NOT EXISTS "clinic_promotion_image" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "clinic_id" INTEGER NOT NULL, "order_id" INTEGER, "image_name" TEXT, "home_page" BOOLEAN DEFAULT FALSE, "temporary_flag" BOOLEAN DEFAULT TRUE, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "deleted_at" TIMESTAMP WITHOUT TIME ZONE, CONSTRAINT "clinic_promotion_image_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE clinic_promotion_image;

-- changeset angelchang:50
CREATE TABLE IF NOT EXISTS "clinic_promotion_message_queue" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "clinic_id" INTEGER NOT NULL, "user_id" INTEGER NOT NULL, "content" TEXT NOT NULL, "send_type" TEXT, "status" TEXT, "retry_number" INTEGER, "send_date" TIMESTAMP WITHOUT TIME ZONE, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "deleted_at" TIMESTAMP WITHOUT TIME ZONE, CONSTRAINT "clinic_promotion_message_queue_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE clinic_promotion_message_queue;

-- changeset angelchang:51
CREATE TABLE IF NOT EXISTS "clinic_promotion_rating" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "clinic_id" INTEGER NOT NULL, "user_id" INTEGER NOT NULL, "rating" INTEGER, "content" TEXT, "anonymous" BOOLEAN DEFAULT TRUE, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "deleted_at" TIMESTAMP WITHOUT TIME ZONE, CONSTRAINT "clinic_promotion_rating_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE clinic_promotion_rating;

-- changeset angelchang:52
CREATE TABLE IF NOT EXISTS "clinic_redemption" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "data" TEXT DEFAULT '{}', CONSTRAINT "clinic_redemption_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE clinic_redemption;

-- changeset angelchang:53
CREATE TABLE IF NOT EXISTS "clinic_reminder" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "examine_at" date, "status" VARCHAR NOT NULL, "clinic_id" INTEGER NOT NULL, "user_id" INTEGER NOT NULL, "educator_id" INTEGER, "data" TEXT DEFAULT '{}', "emr_record_id" INTEGER, "category" VARCHAR, CONSTRAINT "clinic_reminder_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE clinic_reminder;

-- changeset angelchang:54
CREATE TABLE IF NOT EXISTS "clinic_reminder_config" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "category" VARCHAR NOT NULL, "message" VARCHAR NOT NULL, "status" VARCHAR NOT NULL, "alert_day" INTEGER NOT NULL, "clinic_id" INTEGER NOT NULL, CONSTRAINT "clinic_reminder_config_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE clinic_reminder_config;

-- changeset angelchang:55
CREATE TABLE IF NOT EXISTS "clinic_reward" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "name" TEXT NOT NULL, "points" INTEGER DEFAULT 0 NOT NULL, "status" TEXT NOT NULL, "description" TEXT, "clinic_id" INTEGER NOT NULL, "medfirst_qrcode" TEXT, "wellcare_qrcode" TEXT, "action" TEXT, "picture_url" TEXT, "translations" TEXT DEFAULT '{}' NOT NULL, "brand" TEXT, "comment" TEXT, "allow_store_code_categories" TEXT[] DEFAULT ARRAY[]::character varying[], "dingding_qrcode" TEXT, "other_stores_qrcode" TEXT, CONSTRAINT "clinic_reward_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE clinic_reward;

-- changeset angelchang:56
CREATE TABLE IF NOT EXISTS "clinic_rich_content_image" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "deleted_at" TIMESTAMP WITHOUT TIME ZONE, "sequence" INTEGER DEFAULT 0 NOT NULL, "slug" TEXT NOT NULL, "type" TEXT, "clinic_rich_content_message_id" INTEGER NOT NULL, CONSTRAINT "clinic_rich_content_image_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE clinic_rich_content_image;

-- changeset angelchang:57
CREATE TABLE IF NOT EXISTS "clinic_rich_content_message" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "deleted_at" TIMESTAMP WITHOUT TIME ZONE, "sequence" INTEGER DEFAULT 0 NOT NULL, "title" TEXT NOT NULL, "short_content" TEXT, "content" TEXT, "data" TEXT DEFAULT '{}' NOT NULL, "clinic_id" INTEGER NOT NULL, CONSTRAINT "clinic_rich_content_message_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE clinic_rich_content_message;

-- changeset angelchang:58
CREATE TABLE IF NOT EXISTS "clinic_rich_content_receive" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "deleted_at" TIMESTAMP WITHOUT TIME ZONE, "clinic_rich_content_message_id" INTEGER NOT NULL, "user_id" INTEGER NOT NULL, "clinic_id" INTEGER NOT NULL, CONSTRAINT "clinic_rich_content_receive_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE clinic_rich_content_receive;

-- changeset angelchang:59
CREATE TABLE IF NOT EXISTS "clinic_sponsor" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "name" VARCHAR NOT NULL, "key" VARCHAR, "months" INTEGER DEFAULT 0 NOT NULL, "status" TEXT NOT NULL, "updated_by" INTEGER, CONSTRAINT "clinic_sponsor_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE clinic_sponsor;

-- changeset angelchang:60
CREATE TABLE IF NOT EXISTS "clinic_subscription" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "start_date" TIMESTAMP WITHOUT TIME ZONE NOT NULL, "due_date" TIMESTAMP WITHOUT TIME ZONE NOT NULL, "status" TEXT NOT NULL, "clinic_id" INTEGER NOT NULL, "user_id" INTEGER NOT NULL, "plan_id" INTEGER NOT NULL, "reason" VARCHAR DEFAULT '', "feedback" TEXT, "paid_price" INTEGER DEFAULT 0, "remark" VARCHAR, CONSTRAINT "clinic_subscription_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE clinic_subscription;

-- changeset angelchang:61
CREATE TABLE IF NOT EXISTS "coach_feedback" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "plan_id" INTEGER, "user_id" INTEGER, "type" VARCHAR NOT NULL, "comment" TEXT, "value" INTEGER, CONSTRAINT "coach_feedback_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE coach_feedback;

-- changeset angelchang:62
CREATE TABLE IF NOT EXISTS "collaboration_content" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "deleted_at" TIMESTAMP WITHOUT TIME ZONE, "clinic_id" INTEGER NOT NULL, "message_content" TEXT, "content_menu" TEXT, CONSTRAINT "collaboration_content_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE collaboration_content;

-- changeset angelchang:63
CREATE TABLE IF NOT EXISTS "contacts" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "user_id" INTEGER, "affiliation" TEXT NOT NULL, "email" TEXT NOT NULL, "name" TEXT NOT NULL, "subject" TEXT NOT NULL, "comment" TEXT NOT NULL, "is_pr" BOOLEAN DEFAULT FALSE, "lang" VARCHAR, CONSTRAINT "contacts_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE contacts;

-- changeset angelchang:64
CREATE TABLE IF NOT EXISTS "country_analytics_monthly_stats" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "country_iso_2" TEXT NOT NULL, "is_pseudo_included" BOOLEAN DEFAULT FALSE NOT NULL, "year" INTEGER NOT NULL, "month" INTEGER NOT NULL, "a1c" TEXT DEFAULT '{}' NOT NULL, "ldlc" TEXT DEFAULT '{}' NOT NULL, "egfr" TEXT DEFAULT '{}' NOT NULL, "uacr" TEXT DEFAULT '{}' NOT NULL, "fbg" TEXT DEFAULT '{}' NOT NULL, "pre_meal_bg" TEXT DEFAULT '{}' NOT NULL, "post_meal_bg" TEXT DEFAULT '{}' NOT NULL, "bp" TEXT DEFAULT '{}' NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), CONSTRAINT "country_analytics_monthly_stats_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE country_analytics_monthly_stats;

-- changeset angelchang:65
CREATE TABLE IF NOT EXISTS "country_analytics_quarterly_stats" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "country_iso_2" TEXT NOT NULL, "is_pseudo_included" BOOLEAN DEFAULT FALSE NOT NULL, "year" INTEGER NOT NULL, "quarter" INTEGER NOT NULL, "a1c" TEXT DEFAULT '{}' NOT NULL, "ldlc" TEXT DEFAULT '{}' NOT NULL, "egfr" TEXT DEFAULT '{}' NOT NULL, "uacr" TEXT DEFAULT '{}' NOT NULL, "fbg" TEXT DEFAULT '{}' NOT NULL, "pre_meal_bg" TEXT DEFAULT '{}' NOT NULL, "post_meal_bg" TEXT DEFAULT '{}' NOT NULL, "bp" TEXT DEFAULT '{}' NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), CONSTRAINT "country_analytics_quarterly_stats_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE country_analytics_quarterly_stats;

-- changeset angelchang:66
CREATE TABLE IF NOT EXISTS "country_analytics_yearly_stats" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "country_iso_2" TEXT NOT NULL, "is_pseudo_included" BOOLEAN DEFAULT FALSE NOT NULL, "year" INTEGER NOT NULL, "a1c" TEXT DEFAULT '{}' NOT NULL, "ldlc" TEXT DEFAULT '{}' NOT NULL, "egfr" TEXT DEFAULT '{}' NOT NULL, "uacr" TEXT DEFAULT '{}' NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), CONSTRAINT "country_analytics_yearly_stats_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE country_analytics_yearly_stats;

-- changeset angelchang:67
CREATE TABLE IF NOT EXISTS "custom_diary_tag" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "name" TEXT NOT NULL, "type" VARCHAR NOT NULL, "status" VARCHAR NOT NULL, "data" TEXT DEFAULT '{}', "filename" TEXT, "user_id" INTEGER NOT NULL, CONSTRAINT "custom_diary_tag_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE custom_diary_tag;

-- changeset angelchang:68
CREATE TABLE IF NOT EXISTS "custom_medicine" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "name" TEXT NOT NULL, "medicine_type" VARCHAR NOT NULL, "unit" VARCHAR NOT NULL, "custom_unit" VARCHAR, "user_id" INTEGER NOT NULL, "is_preference" BOOLEAN DEFAULT TRUE, "status" VARCHAR DEFAULT 'active', "clinic_medicine_id" INTEGER, "medicine_code" TEXT, "medicine_code_type" TEXT, "nhi_record_id" INTEGER, CONSTRAINT "custom_medicine_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE custom_medicine;

-- changeset angelchang:69
CREATE TABLE IF NOT EXISTS "daily_step" ("id" BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "deleted_at" TIMESTAMP WITHOUT TIME ZONE, "recorded_date" date NOT NULL, "user_id" INTEGER NOT NULL, "data" TEXT DEFAULT '{}', CONSTRAINT "daily_step_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE daily_step;

-- changeset angelchang:70
CREATE TABLE IF NOT EXISTS "dashboard_cache" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "user_id" INTEGER NOT NULL, "ctype" INTEGER NOT NULL, "hypos" INTEGER, "hypers" INTEGER, "hypo_ratio" numeric, "hyper_ratio" numeric, "lowest_glucose_value" numeric, "lowest_glucose_value_threshold" numeric, "highest_glucose_value" numeric, "highest_glucose_value_threshold" numeric, "count" INTEGER DEFAULT 0, "before_meal_count" INTEGER, "before_meal_average" numeric, "after_meal_count" INTEGER, "after_meal_average" numeric, "bedtime_count" INTEGER, "bedtime_average" numeric, CONSTRAINT "dashboard_cache_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE dashboard_cache;

-- changeset angelchang:71
CREATE TABLE IF NOT EXISTS "dashboard_setting" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "min_hypo_count_red" INTEGER NOT NULL, "min_hyper_count_red" INTEGER NOT NULL, "lower_limit_red" numeric NOT NULL, "higher_limit_red" numeric NOT NULL, "min_hypo_count_yellow" INTEGER NOT NULL, "min_hyper_count_yellow" INTEGER NOT NULL, "lower_limit_yellow" numeric NOT NULL, "higher_limit_yellow" numeric NOT NULL, "readingless_period_grey" INTEGER NOT NULL, "period" INTEGER NOT NULL, "sort" INTEGER NOT NULL, "care_connect_id" INTEGER NOT NULL, "unit" VARCHAR DEFAULT 'mg/dL' NOT NULL, "show_insulin" BOOLEAN DEFAULT FALSE, "alert_view_all" BOOLEAN DEFAULT TRUE, "below_70_bg_cgm_percent_red" INTEGER, "below_54_bg_cgm_percent_red" INTEGER, "above_250_bg_cgm_percent_red" INTEGER, "above_180_bg_cgm_percent_red" INTEGER, "below_70_bg_cgm_percent_yellow" INTEGER, "below_54_bg_cgm_percent_yellow" INTEGER, "above_250_bg_cgm_percent_yellow" INTEGER, "above_180_bg_cgm_percent_yellow" INTEGER, CONSTRAINT "dashboard_setting_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE dashboard_setting;

-- changeset angelchang:72
CREATE TABLE IF NOT EXISTS "dashboard_status" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "status" TEXT NOT NULL, "user_id" INTEGER NOT NULL, "care_connect_id" INTEGER, CONSTRAINT "dashboard_status_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE dashboard_status;

-- changeset angelchang:73
CREATE TABLE IF NOT EXISTS "diary" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "recorded_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "glucose_value" numeric NOT NULL, "unit" VARCHAR DEFAULT '' NOT NULL, "status" TEXT NOT NULL, "sport_duration" INTEGER DEFAULT 0, "detail" TEXT, "user_id" INTEGER NOT NULL, "user_meter_id" INTEGER, "medication" BOOLEAN DEFAULT FALSE, "setting_id" INTEGER, "sync_time" TIMESTAMP WITHOUT TIME ZONE NOT NULL, "product_id" INTEGER, "meter_diff_time" INTEGER DEFAULT 0, "carbs" numeric DEFAULT 0, "tzoffset" INTEGER DEFAULT 0, "is_manually" BOOLEAN DEFAULT FALSE, "state" TEXT DEFAULT 'other' NOT NULL, "meal_type" TEXT NOT NULL, "systolic" INTEGER DEFAULT -1, "diastolic" INTEGER DEFAULT -1, "pulse" INTEGER DEFAULT -1, "weight" numeric DEFAULT -1, "body_fat" numeric DEFAULT -1, "height" numeric, "custom_medicines" TEXT DEFAULT '{}', "is_healthkit" BOOLEAN DEFAULT FALSE, "custom_sports" TEXT DEFAULT '{}', "custom_foods" TEXT DEFAULT '{}', "latest_weight" numeric, "synced" VARCHAR DEFAULT '[]' NOT NULL, "modern_foods" TEXT DEFAULT '[]', "ihb" BOOLEAN DEFAULT FALSE, "afib" BOOLEAN DEFAULT FALSE, "deleted_at" TIMESTAMP WITHOUT TIME ZONE, "wearable_type" TEXT, "glucose_value_in_mg_dl" INTEGER, "batch_uuid" VARCHAR, "batch_position" INTEGER, CONSTRAINT "diary_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE diary;

-- changeset angelchang:74
CREATE TABLE IF NOT EXISTS "diary_attachment" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "url" TEXT, "diary_id" INTEGER NOT NULL, "status" TEXT DEFAULT 'active' NOT NULL, "filename" TEXT NOT NULL, "predict_is_food" BOOLEAN, "probability" numeric, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "deleted_at" TIMESTAMP WITHOUT TIME ZONE, CONSTRAINT "diary_attachment_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE diary_attachment;

-- changeset angelchang:75
CREATE TABLE IF NOT EXISTS "diary_batch_record" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "user_id" INTEGER NOT NULL, "batch_uuid" VARCHAR NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), CONSTRAINT "diary_batch_record_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE diary_batch_record;

-- changeset angelchang:76
CREATE TABLE IF NOT EXISTS "diary_logged_data_cache" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "deleted_at" TIMESTAMP WITHOUT TIME ZONE, "recorded_date" date NOT NULL, "user_id" INTEGER NOT NULL, "data_types" TEXT DEFAULT '[]', CONSTRAINT "diary_logged_data_cache_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE diary_logged_data_cache;

-- changeset angelchang:77
CREATE TABLE IF NOT EXISTS "diary_modification" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "active" BOOLEAN NOT NULL, "type" TEXT NOT NULL, "state" TEXT, "meal_type" TEXT, "diary_id" INTEGER NOT NULL, "care_connect_id" INTEGER NOT NULL, CONSTRAINT "diary_modification_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE diary_modification;

-- changeset angelchang:78
CREATE TABLE IF NOT EXISTS "diary_tag" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "type" TEXT, "diary_id" INTEGER NOT NULL, "tag_value" INTEGER NOT NULL, "serving" numeric DEFAULT 0 NOT NULL, "intensity" VARCHAR, CONSTRAINT "diary_tag_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE diary_tag;

-- changeset angelchang:79
CREATE TABLE IF NOT EXISTS "disease" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "name" VARCHAR NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "deleted_at" TIMESTAMP WITHOUT TIME ZONE, CONSTRAINT "disease_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE disease;

-- changeset angelchang:80
CREATE TABLE IF NOT EXISTS "email_reminder_event" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "user_id" INTEGER NOT NULL, "clinic_id" INTEGER NOT NULL, CONSTRAINT "email_reminder_event_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE email_reminder_event;

-- changeset angelchang:81
CREATE TABLE IF NOT EXISTS "emr_record" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "medical_institution_code" VARCHAR NOT NULL, "patient_national_id" VARCHAR NOT NULL, "category" VARCHAR NOT NULL, "vendor" VARCHAR NOT NULL, "date" date NOT NULL, "data" TEXT DEFAULT '{}' NOT NULL, "exported" BOOLEAN DEFAULT FALSE, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "deleted_at" TIMESTAMP WITHOUT TIME ZONE, "patient_chart_number" VARCHAR, "uid" VARCHAR, CONSTRAINT "emr_record_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE emr_record;

-- changeset angelchang:82
CREATE TABLE IF NOT EXISTS "examination" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "hba1c" numeric, "total_cholesterol" numeric, "ldl_c" numeric, "hdl_c" numeric, "tg" numeric, "creatinine" numeric, "egfr" numeric, "gpt" VARCHAR(128), "urine_acr" numeric, "urine_pcr" numeric, "ckd_stage" TEXT, "alb" numeric, "bun" numeric, "type" TEXT, "diagnosed_at" date DEFAULT NOW(), "care_connect_id" INTEGER NOT NULL, "created_by" INTEGER, "fpg" numeric, "ppg" numeric, "got" numeric, "lab_result_id" INTEGER, "units" TEXT DEFAULT '{}', "source_id" INTEGER, "lab_id" INTEGER, "object_id" VARCHAR(255) DEFAULT 'NULL::character varying', "hemoglobin" numeric, "hematocrit" numeric, "mcv" numeric, "mch" numeric, "mchc" numeric, "rdw_cv" numeric, "rdw_sd" numeric, "plt_count" numeric, "neutrophil_pct" numeric, "lymphocyte_pct" numeric, "monocyte_pct" numeric, "eosinophil_pct" numeric, "uric_acid" numeric, "microalbumin" numeric, "specific_gravity" numeric, "glucose_urine" VARCHAR(255) DEFAULT 'NULL::character varying', "protein_urine" VARCHAR(255) DEFAULT 'NULL::character varying', "bilirubin_urine" VARCHAR(255) DEFAULT 'NULL::character varying', "urobilinogen" VARCHAR(255) DEFAULT 'NULL::character varying', "creatinine_urine" numeric, "wbc_urine" VARCHAR(255) DEFAULT 'NULL::character varying', "rbc_urine" VARCHAR(255) DEFAULT 'NULL::character varying', "ggt" numeric, "total_protein" numeric, "globulin" numeric, "total_bilirubin" numeric, "direct_bilirubin" numeric, "anti_hbs" VARCHAR(255) DEFAULT 'NULL::character varying', "hbsag" VARCHAR(255) DEFAULT 'NULL::character varying', "hbeag" VARCHAR(255) DEFAULT 'NULL::character varying', "anti_hcv" VARCHAR(255) DEFAULT 'NULL::character varying', "alp" numeric, "amylase" numeric, "ck" numeric, "ldh" numeric, "cortisol" numeric, "tsh" numeric, "t3_triiodothyronine" numeric, "t4_thyroxine" numeric, "free_t4" numeric, "pth" numeric, "sodium" numeric, "potassium" numeric, "calcium" numeric, "magnesium" numeric, "phosphate" numeric, "iron" numeric, "tibc" numeric, "ferritin" numeric, "wbc_count" numeric, "rbc_count" numeric, "basophil_pct" numeric, "user_id" INTEGER NOT NULL, "clinic_id" INTEGER, "deleted_at" TIMESTAMP WITHOUT TIME ZONE, "note" TEXT, CONSTRAINT "examination_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE examination;

-- changeset angelchang:83
CREATE TABLE IF NOT EXISTS "feature_toggle" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "status" TEXT NOT NULL, "name" TEXT NOT NULL, "description" TEXT NOT NULL, CONSTRAINT "feature_toggle_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE feature_toggle;

-- changeset angelchang:84
CREATE TABLE IF NOT EXISTS "food_classification" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "is_food" BOOLEAN, "tags" TEXT DEFAULT '[]', "user_id" INTEGER NOT NULL, "diary_attachment_id" INTEGER NOT NULL, "is_meter" BOOLEAN, "custom_tags" TEXT DEFAULT '[]', "food_names" TEXT DEFAULT '[]', "rating" TEXT DEFAULT '{}', "dish" VARCHAR, CONSTRAINT "food_classification_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE food_classification;

-- changeset angelchang:85
CREATE TABLE IF NOT EXISTS "food_database" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "vendor" VARCHAR, "status" VARCHAR NOT NULL, "source_id" INTEGER, "food_name" VARCHAR NOT NULL, "brand_name" VARCHAR, "locale" VARCHAR, "default_unit" VARCHAR, "nutritions" TEXT DEFAULT '{}', "food_groups" TEXT DEFAULT '{}', "ingredients" TEXT DEFAULT '[]', "filenames" TEXT DEFAULT '[]', "shared" BOOLEAN DEFAULT FALSE, "external_link" VARCHAR DEFAULT '', "user_id" INTEGER, "barcode" VARCHAR DEFAULT '', CONSTRAINT "food_database_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE food_database;

-- changeset angelchang:86
CREATE TABLE IF NOT EXISTS "food_database_connect" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "user_id" INTEGER NOT NULL, "diary_id" INTEGER NOT NULL, "food_database_id" INTEGER NOT NULL, "active" BOOLEAN DEFAULT TRUE, CONSTRAINT "food_database_connect_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE food_database_connect;

-- changeset angelchang:87
CREATE TABLE IF NOT EXISTS "food_database_favorited" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "favorited" BOOLEAN DEFAULT FALSE, "user_id" INTEGER NOT NULL, "food_database_id" INTEGER NOT NULL, CONSTRAINT "food_database_favorited_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE food_database_favorited;

-- changeset angelchang:88
CREATE TABLE IF NOT EXISTS "friend_notification_setting" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "from_id" INTEGER NOT NULL, "to_id" INTEGER NOT NULL, "beyond_target_range" TEXT DEFAULT 'on' NOT NULL, "not_updated_for_days" INTEGER DEFAULT 3 NOT NULL, "beyond_target_range_via_email" BOOLEAN DEFAULT FALSE, "not_updated_for_days_via_email" INTEGER DEFAULT 0, "new_data_synced" BOOLEAN DEFAULT TRUE, "new_data_synced_via_email" BOOLEAN DEFAULT FALSE, "bp_beyond_target_range" VARCHAR DEFAULT 'on' NOT NULL, "bp_not_updated_for_days" INTEGER DEFAULT 3 NOT NULL, CONSTRAINT "friend_notification_setting_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE friend_notification_setting;

-- changeset angelchang:89
CREATE TABLE IF NOT EXISTS "friends" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "from_id" INTEGER NOT NULL, "to_id" INTEGER NOT NULL, CONSTRAINT "friends_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE friends;

-- changeset angelchang:90
CREATE TABLE IF NOT EXISTS "fubon_insurance_promotion" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "user_id" INTEGER NOT NULL, "user_identity" VARCHAR NOT NULL, "is_uat" BOOLEAN NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), CONSTRAINT "fubon_insurance_promotion_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE fubon_insurance_promotion;

-- changeset angelchang:91
CREATE TABLE IF NOT EXISTS "h2c_activation_code" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "deleted_at" TIMESTAMP WITHOUT TIME ZONE, "code" VARCHAR NOT NULL, "clinic_id" INTEGER NOT NULL, CONSTRAINT "h2c_activation_code_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE h2c_activation_code;

-- changeset angelchang:92
CREATE TABLE IF NOT EXISTS "h2c_cache_sync_history" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "sync_history_id" INTEGER NOT NULL, "records" TEXT DEFAULT '{}' NOT NULL, "cache_data" TEXT DEFAULT '{}' NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), CONSTRAINT "h2c_cache_sync_history_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE h2c_cache_sync_history;

-- changeset angelchang:93
CREATE TABLE IF NOT EXISTS "h2c_device_sync_history" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "deleted_at" TIMESTAMP WITHOUT TIME ZONE, "record_from" TIMESTAMP WITHOUT TIME ZONE, "record_to" TIMESTAMP WITHOUT TIME ZONE, "serial_number" TEXT NOT NULL, "refer_number" INTEGER, "count" INTEGER DEFAULT 0 NOT NULL, "clinic_id" INTEGER NOT NULL, "user_id" INTEGER NOT NULL, "updated_by" INTEGER NOT NULL, "status" TEXT DEFAULT 'pending' NOT NULL, CONSTRAINT "h2c_device_sync_history_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE h2c_device_sync_history;

-- changeset angelchang:94
CREATE TABLE IF NOT EXISTS "h2c_patient_consent" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "phone_number" TEXT, "consent_slug" TEXT, "code" TEXT, "clinic_id" INTEGER NOT NULL, "user_id" INTEGER, "type" TEXT NOT NULL, "status" TEXT NOT NULL, "consented_at" TIMESTAMP WITHOUT TIME ZONE, "fingerprint" TEXT, "user_type" TEXT, CONSTRAINT "h2c_patient_consent_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE h2c_patient_consent;

-- changeset angelchang:95
CREATE TABLE IF NOT EXISTS "h2c_sync_log" ("id" BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "user_id" INTEGER NOT NULL, "log" TEXT NOT NULL, "category" TEXT NOT NULL, "serial_number" TEXT, "refer_number" INTEGER, CONSTRAINT "h2c_sync_log_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE h2c_sync_log;

-- changeset angelchang:96
CREATE TABLE IF NOT EXISTS "h2c_user_token" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "deleted_at" TIMESTAMP WITHOUT TIME ZONE, "device_id" TEXT NOT NULL, "access_token" TEXT NOT NULL, "user_id" INTEGER, CONSTRAINT "h2c_user_token_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE h2c_user_token;

-- changeset angelchang:97
CREATE TABLE IF NOT EXISTS "health_user" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "first_name" TEXT NOT NULL, "last_name" TEXT, "email" TEXT, "phone_number" TEXT, "gender" TEXT, "birthday" date, "diabetes_type" TEXT DEFAULT 'N/A' NOT NULL, "avatar_id" INTEGER, "weight" numeric, "height" numeric, "weight_unit" TEXT, "height_unit" TEXT, "lang" TEXT, "last_login" TIMESTAMP WITHOUT TIME ZONE, "is_tester" BOOLEAN DEFAULT FALSE, "locale" TEXT, "tzoffset" INTEGER DEFAULT 0, "device_info" TEXT DEFAULT '{}', "onboard_at" TIMESTAMP WITHOUT TIME ZONE, "birthyear" date, "diabetes_duration" TEXT, "diabetes_medication" TEXT, "status" VARCHAR DEFAULT 'active' NOT NULL, "reason_to_use" TEXT DEFAULT '[]', "identity" TEXT, "email_verify" BOOLEAN DEFAULT FALSE NOT NULL, "phone_number_verify" BOOLEAN DEFAULT FALSE NOT NULL, "disease" INT4[], "is_pseudo" BOOLEAN, "country" VARCHAR, CONSTRAINT "health_user_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE health_user;

-- changeset angelchang:98
CREATE TABLE IF NOT EXISTS "heartbeat" ("id" BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "recorded_at" TIMESTAMP WITHOUT TIME ZONE, "sync_time" TIMESTAMP WITHOUT TIME ZONE, "value" INTEGER NOT NULL, "source" VARCHAR NOT NULL, "user_id" INTEGER, CONSTRAINT "heartbeat_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE heartbeat;

-- changeset angelchang:99
CREATE TABLE IF NOT EXISTS "heartbeat_raw" ("id" BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "sync_time" TIMESTAMP WITHOUT TIME ZONE, "data" TEXT DEFAULT '{}' NOT NULL, "user_id" INTEGER, CONSTRAINT "heartbeat_raw_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE heartbeat_raw;

-- changeset angelchang:100
CREATE TABLE IF NOT EXISTS "hl_account_link" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "deleted_at" TIMESTAMP WITHOUT TIME ZONE, "is_revoked" BOOLEAN DEFAULT FALSE, "has_contract" BOOLEAN DEFAULT FALSE, "access_token" TEXT NOT NULL, "refresh_token" TEXT NOT NULL, "user_id" INTEGER NOT NULL, "mylinkx_id" TEXT NOT NULL, CONSTRAINT "hl_account_link_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE hl_account_link;

-- changeset angelchang:101
CREATE TABLE IF NOT EXISTS "hl_cgm_1m_message_event" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "message_type" TEXT NOT NULL, "user_id" INTEGER NOT NULL, CONSTRAINT "hl_cgm_1m_message_event_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE hl_cgm_1m_message_event;

-- changeset angelchang:102
CREATE TABLE IF NOT EXISTS "hl_cgm_1m_v2_message_event" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "message_type" TEXT NOT NULL, "user_id" INTEGER NOT NULL, CONSTRAINT "hl_cgm_1m_v2_message_event_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE hl_cgm_1m_v2_message_event;

-- changeset angelchang:103
CREATE TABLE IF NOT EXISTS "hl_cgm_2m_message_event" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "message_type" TEXT NOT NULL, "user_id" INTEGER NOT NULL, CONSTRAINT "hl_cgm_2m_message_event_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE hl_cgm_2m_message_event;

-- changeset angelchang:104
CREATE TABLE IF NOT EXISTS "hl_cgm_3m_message_event" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "message_type" TEXT NOT NULL, "user_id" INTEGER NOT NULL, CONSTRAINT "hl_cgm_3m_message_event_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE hl_cgm_3m_message_event;

-- changeset angelchang:105
CREATE TABLE IF NOT EXISTS "hl_cgm_message_event" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "message_type" TEXT NOT NULL, "user_id" INTEGER NOT NULL, CONSTRAINT "hl_cgm_message_event_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE hl_cgm_message_event;

-- changeset angelchang:106
CREATE TABLE IF NOT EXISTS "hl_cgm_policyholder_account_link" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "is_revoked" BOOLEAN DEFAULT FALSE, "has_contract" BOOLEAN DEFAULT FALSE, "access_token" TEXT NOT NULL, "refresh_token" TEXT NOT NULL, "user_id" INTEGER NOT NULL, "mylinkx_id" TEXT NOT NULL, CONSTRAINT "hl_cgm_policyholder_account_link_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE hl_cgm_policyholder_account_link;

-- changeset angelchang:107
CREATE TABLE IF NOT EXISTS "hl_cgm_policyholder_message_event" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "message_type" TEXT NOT NULL, "user_id" INTEGER NOT NULL, CONSTRAINT "hl_cgm_policyholder_message_event_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE hl_cgm_policyholder_message_event;

-- changeset angelchang:108
CREATE TABLE IF NOT EXISTS "hl_distributor_code" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "deleted_at" TIMESTAMP WITHOUT TIME ZONE, "type" TEXT, "value" TEXT, "user_id" INTEGER NOT NULL, CONSTRAINT "hl_distributor_code_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE hl_distributor_code;

-- changeset angelchang:109
CREATE TABLE IF NOT EXISTS "hourly_steps" ("id" BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL, "value" INTEGER NOT NULL, "source" VARCHAR NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "recorded_at" TIMESTAMP WITHOUT TIME ZONE NOT NULL, "user_id" INTEGER NOT NULL, CONSTRAINT "hourly_steps_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE hourly_steps;

-- changeset angelchang:110
CREATE TABLE IF NOT EXISTS "hub_role" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "user_id" INTEGER, "section" VARCHAR, "permission" VARCHAR, "status" VARCHAR DEFAULT 'active' NOT NULL, "admin_user_id" INTEGER, CONSTRAINT "hub_role_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE hub_role;

-- changeset angelchang:111
CREATE TABLE IF NOT EXISTS "icd_codes" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "icd_code" TEXT NOT NULL, "icd_key" TEXT NOT NULL, "use" BOOLEAN DEFAULT FALSE NOT NULL, "ref_code" TEXT DEFAULT '[]' NOT NULL, "description" TEXT, CONSTRAINT "icd_codes_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE icd_codes;

-- changeset angelchang:112
CREATE TABLE IF NOT EXISTS "insulin" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "type" TEXT NOT NULL, "name" TEXT NOT NULL, "uid" INTEGER DEFAULT 0 NOT NULL, "languages" VARCHAR DEFAULT '[]' NOT NULL, "unit" VARCHAR, "deprecated" BOOLEAN DEFAULT FALSE, "manufacturer" VARCHAR, CONSTRAINT "insulin_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE insulin;

-- changeset angelchang:113
CREATE TABLE IF NOT EXISTS "insulin_connect" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "role" TEXT NOT NULL, "status" TEXT NOT NULL, "serving" numeric, "user_id" INTEGER NOT NULL, "insulin_id" INTEGER NOT NULL, "diary_id" INTEGER, "priming" BOOLEAN DEFAULT FALSE, "is_manually" BOOLEAN DEFAULT TRUE, CONSTRAINT "insulin_connect_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE insulin_connect;

-- changeset angelchang:114
CREATE TABLE IF NOT EXISTS "insurance_customer" ("id" BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "policy_no" VARCHAR NOT NULL, "belongs" VARCHAR NOT NULL, "effective_date" date, "care_connect_id" INTEGER, "expiry_date" date, "termination_date" date, "transction_type" VARCHAR, CONSTRAINT "insurance_customer_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE insurance_customer;

-- changeset angelchang:115
CREATE TABLE IF NOT EXISTS "insurance_form" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "user_name" TEXT NOT NULL, "vendor" VARCHAR NOT NULL, "gender" VARCHAR NOT NULL, "age" INTEGER NOT NULL, "phone_number" VARCHAR NOT NULL, "city" TEXT NOT NULL, "district" TEXT, "comment" TEXT, "is_agreed" BOOLEAN DEFAULT FALSE NOT NULL, "source" VARCHAR, "clinic_id" INTEGER, CONSTRAINT "insurance_form_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE insurance_form;

-- changeset angelchang:116
CREATE TABLE IF NOT EXISTS "interactive_answer" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "content" TEXT NOT NULL, "position" INTEGER NOT NULL, "interactive_answer_connect_id" INTEGER NOT NULL, "interactive_question_id" INTEGER NOT NULL, CONSTRAINT "interactive_answer_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE interactive_answer;

-- changeset angelchang:117
CREATE TABLE IF NOT EXISTS "interactive_answer_connect" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "interactive_form_connect_id" INTEGER NOT NULL, CONSTRAINT "interactive_answer_connect_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE interactive_answer_connect;

-- changeset angelchang:118
CREATE TABLE IF NOT EXISTS "interactive_article" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "name" TEXT, "status" TEXT NOT NULL, "content" TEXT, "language" VARCHAR DEFAULT 'en-us' NOT NULL, CONSTRAINT "interactive_article_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE interactive_article;

-- changeset angelchang:119
CREATE TABLE IF NOT EXISTS "interactive_article_attachment" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "status" TEXT NOT NULL, "url" TEXT NOT NULL, "interactive_article_id" INTEGER NOT NULL, CONSTRAINT "interactive_article_attachment_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE interactive_article_attachment;

-- changeset angelchang:120
CREATE TABLE IF NOT EXISTS "interactive_article_connect" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "status" TEXT NOT NULL, "interactive_form_id" INTEGER NOT NULL, "interactive_article_id" INTEGER NOT NULL, CONSTRAINT "interactive_article_connect_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE interactive_article_connect;

-- changeset angelchang:121
CREATE TABLE IF NOT EXISTS "interactive_form" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "name" TEXT, "status" TEXT NOT NULL, "message" TEXT, "clinic_id" INTEGER NOT NULL, "follow_up_form_id" INTEGER, "title" TEXT, "language" TEXT DEFAULT 'en-us' NOT NULL, "trigger_condition" TEXT, "count_sent" INTEGER DEFAULT 0, "count_completed" INTEGER DEFAULT 0, "mask" BOOLEAN DEFAULT TRUE, "plan_id" INTEGER, "trigger_day" INTEGER, "category" VARCHAR, "can_save" BOOLEAN DEFAULT FALSE, "is_premium" BOOLEAN DEFAULT FALSE, "sequence" INTEGER, "ignore_lang_check" BOOLEAN DEFAULT FALSE, CONSTRAINT "interactive_form_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE interactive_form;

-- changeset angelchang:122
CREATE TABLE IF NOT EXISTS "interactive_form_analysis" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "content" TEXT NOT NULL, "interactive_form_id" INTEGER NOT NULL, CONSTRAINT "interactive_form_analysis_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE interactive_form_analysis;

-- changeset angelchang:123
CREATE TABLE IF NOT EXISTS "interactive_form_connect" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "scheduled_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "status" TEXT NOT NULL, "send_by" INTEGER, "send_to" INTEGER NOT NULL, "interactive_form_id" INTEGER NOT NULL, "detail" TEXT DEFAULT '{}' NOT NULL, CONSTRAINT "interactive_form_connect_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE interactive_form_connect;

-- changeset angelchang:124
CREATE TABLE IF NOT EXISTS "interactive_question" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "status" TEXT NOT NULL, "type" TEXT NOT NULL, "title" TEXT, "summary" TEXT NOT NULL, "position" INTEGER, "interactive_form_id" INTEGER NOT NULL, "default_routing_id" INTEGER, "required" BOOLEAN DEFAULT FALSE, "answer_position" INTEGER, CONSTRAINT "interactive_question_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE interactive_question;

-- changeset angelchang:125
CREATE TABLE IF NOT EXISTS "invitation" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "invitee_email" TEXT, "invitee_phone" TEXT, "invite_code" TEXT, "status" TEXT, "inviter_id" INTEGER NOT NULL, "invitee_id" INTEGER, CONSTRAINT "invitation_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE invitation;

-- changeset angelchang:126
CREATE TABLE IF NOT EXISTS "lab" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "status" VARCHAR DEFAULT 'active' NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "name" VARCHAR NOT NULL, "parser" VARCHAR, CONSTRAINT "lab_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE lab;

-- changeset angelchang:127
CREATE TABLE IF NOT EXISTS "lab_clinic_connect" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "status" VARCHAR DEFAULT 'active' NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "clinic_id" INTEGER NOT NULL, "lab_id" INTEGER NOT NULL, "identify_field" VARCHAR, "enable_promote_healthpass" BOOLEAN DEFAULT FALSE, "ucl_codes" TEXT[] DEFAULT ARRAY[]::character varying[], "ucl_authenticate_type" TEXT, CONSTRAINT "lab_clinic_connect_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE lab_clinic_connect;

-- changeset angelchang:128
CREATE TABLE IF NOT EXISTS "lab_connect" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "status" VARCHAR DEFAULT 'active' NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "user_id" INTEGER NOT NULL, "lab_id" INTEGER NOT NULL, "auth_clinic" INTEGER, CONSTRAINT "lab_connect_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE lab_connect;

-- changeset angelchang:129
CREATE TABLE IF NOT EXISTS "lab_report" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "filename" VARCHAR, "save_name" VARCHAR, "lab_connect_id" INTEGER, "parsed" BOOLEAN DEFAULT FALSE, "lab_id" INTEGER NOT NULL, "data" TEXT, "data_type" VARCHAR, "data_date" date, "lab_clinic_connect_id" INTEGER, "data_params" TEXT DEFAULT '{}', "user_id" INTEGER, CONSTRAINT "lab_report_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE lab_report;

-- changeset angelchang:130
CREATE TABLE IF NOT EXISTS "lab_result" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "data" TEXT, "exported" BOOLEAN DEFAULT FALSE, "lab_report_id" INTEGER NOT NULL, "identify" VARCHAR, "medical_record_number" VARCHAR, "clinic_id" INTEGER, CONSTRAINT "lab_result_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE lab_result;

-- changeset angelchang:131
CREATE TABLE IF NOT EXISTS "libreview_subscription" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "user_id" INTEGER NOT NULL, "plan_id" INTEGER NOT NULL, "os" VARCHAR(32) NOT NULL, "order_id" VARCHAR(255) NOT NULL, "start_date" TIMESTAMP WITHOUT TIME ZONE NOT NULL, "due_date" TIMESTAMP WITHOUT TIME ZONE NOT NULL, "purchase_date" TIMESTAMP WITHOUT TIME ZONE NOT NULL, "currency" VARCHAR(32) NOT NULL, "amount" FLOAT4 DEFAULT '0' NOT NULL, "reason" TEXT, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), CONSTRAINT "libreview_subscription_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE libreview_subscription;

-- changeset angelchang:132
CREATE TABLE IF NOT EXISTS "libreview_subscription_plan" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "product_id" VARCHAR(255) NOT NULL, "days" INTEGER NOT NULL, "is_active" BOOLEAN DEFAULT FALSE NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), CONSTRAINT "libreview_subscription_plan_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE libreview_subscription_plan;

-- changeset angelchang:133
CREATE TABLE IF NOT EXISTS "magic_qrcode" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "name" TEXT, "link_code" TEXT NOT NULL, "type" TEXT NOT NULL, "redirect_to" TEXT, "image_url" TEXT, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "deleted_at" TIMESTAMP WITHOUT TIME ZONE, "count_opens" INTEGER DEFAULT 0 NOT NULL, "user_id" INTEGER NOT NULL, "clinic_id" INTEGER, CONSTRAINT "magic_qrcode_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE magic_qrcode;

-- changeset angelchang:134
CREATE TABLE IF NOT EXISTS "measurement_plan" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "plan" TEXT NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "clinic_id" INTEGER NOT NULL, "user_id" INTEGER, "name" TEXT NOT NULL, "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), CONSTRAINT "measurement_plan_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE measurement_plan;

-- changeset angelchang:135
CREATE TABLE IF NOT EXISTS "medicine_attachment" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "deleted_at" TIMESTAMP WITHOUT TIME ZONE, "url" TEXT, "filename" VARCHAR, "medicine_type" VARCHAR, "uid" INTEGER NOT NULL, "user_id" INTEGER NOT NULL, CONSTRAINT "medicine_attachment_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE medicine_attachment;

-- changeset angelchang:136
CREATE TABLE IF NOT EXISTS "medicine_reminder" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "medicine_type" VARCHAR, "uid" INTEGER NOT NULL, "enabled" BOOLEAN DEFAULT FALSE, "frequency" VARCHAR, "take_time" TEXT DEFAULT '{}', "user_id" INTEGER NOT NULL, CONSTRAINT "medicine_reminder_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE medicine_reminder;

-- changeset angelchang:137
CREATE TABLE IF NOT EXISTS "meter" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "brand" TEXT NOT NULL, "model" TEXT NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "refer_number" INTEGER NOT NULL, "data_types" VARCHAR DEFAULT '[]' NOT NULL, "max_users" INTEGER DEFAULT 1 NOT NULL, CONSTRAINT "meter_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE meter;

-- changeset angelchang:138
CREATE TABLE IF NOT EXISTS "metlife_customer" ("id" BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "policy_no" VARCHAR NOT NULL, "premium_enabled" BOOLEAN DEFAULT FALSE, "care_connect_id" INTEGER, CONSTRAINT "metlife_customer_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE metlife_customer;

-- changeset angelchang:139
CREATE TABLE IF NOT EXISTS "moh_log" ("id" BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "clinic_id" INTEGER, "endpoint" VARCHAR, "params" TEXT, "response" TEXT, "user_id" INTEGER NOT NULL, CONSTRAINT "moh_log_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE moh_log;

-- changeset angelchang:140
CREATE TABLE IF NOT EXISTS "moshi" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "content" TEXT NOT NULL, "attribute" TEXT NOT NULL, "status" TEXT NOT NULL, "sender_id" INTEGER, "receiver_id" INTEGER, "type" TEXT DEFAULT 'friend' NOT NULL, "clinic_id" INTEGER, "action" TEXT DEFAULT '{}', "data" TEXT DEFAULT '{}', "postback" VARCHAR, "moshi_campaign_id" INTEGER, CONSTRAINT "moshi_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE moshi;

-- changeset angelchang:141
CREATE TABLE IF NOT EXISTS "moshi_archive" ("id" INTEGER NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "content" TEXT NOT NULL, "attribute" TEXT NOT NULL, "status" TEXT NOT NULL, "sender_id" INTEGER, "receiver_id" INTEGER, "type" TEXT DEFAULT 'friend' NOT NULL, "clinic_id" INTEGER, "action" TEXT DEFAULT '{}', "data" TEXT DEFAULT '{}', "postback" VARCHAR, "moshi_campaign_id" INTEGER, CONSTRAINT "idx_moshi_archive_id" PRIMARY KEY ("id"));
-- rollback: DROP TABLE moshi_archive;

-- changeset angelchang:142
CREATE TABLE IF NOT EXISTS "moshi_attachment" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "url" TEXT, "moshi_id" INTEGER NOT NULL, "checksum" TEXT NOT NULL, "numbers" INTEGER DEFAULT 0, CONSTRAINT "moshi_attachment_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE moshi_attachment;

-- changeset angelchang:143
CREATE TABLE IF NOT EXISTS "moshi_attachment_archive" ("id" INTEGER NOT NULL, "url" TEXT, "moshi_id" INTEGER NOT NULL, "checksum" TEXT NOT NULL, "numbers" INTEGER DEFAULT 0, CONSTRAINT "idx_moshi_attachment_archive" PRIMARY KEY ("id"));
-- rollback: DROP TABLE moshi_attachment_archive;

-- changeset angelchang:144
CREATE TABLE IF NOT EXISTS "moshi_campaign" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "query" TEXT, "content" TEXT NOT NULL, "status" TEXT NOT NULL, "is_mask" BOOLEAN DEFAULT FALSE, "action" TEXT DEFAULT '{}', "count_sent" INTEGER DEFAULT 0, "count_read" INTEGER DEFAULT 0, "user_id" INTEGER, "name" VARCHAR, "language" VARCHAR, "category" VARCHAR, "scheduled_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "deleted_at" TIMESTAMP WITHOUT TIME ZONE, "antz_task" VARCHAR, "producer_id" INTEGER, "clinic_id" INTEGER, "toolbox_message_id" INTEGER, "target_user_source" VARCHAR, "filter_user_language" TEXT[], "filter_user_country" TEXT[], "filter_user_below_age" INTEGER, "filter_user_above_age" INTEGER, "filter_user_disease" INT4[], "filter_user_diabetes_type" TEXT[], "filter_user_past_days" INTEGER, "user_list_file_name" VARCHAR, "user_list_display_name" VARCHAR, "current_progress" INTEGER DEFAULT 0, "total_progress" INTEGER DEFAULT 0, "toolbox_message_cache_id" INTEGER, CONSTRAINT "moshi_campaign_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE moshi_campaign;

-- changeset angelchang:145
CREATE TABLE IF NOT EXISTS "moshi_classification" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "category" VARCHAR, "user_id" INTEGER NOT NULL, "moshi_id" INTEGER NOT NULL, CONSTRAINT "moshi_classification_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE moshi_classification;

-- changeset angelchang:146
CREATE TABLE IF NOT EXISTS "nhi_record" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "user_id" INTEGER NOT NULL, "data" TEXT DEFAULT '{}' NOT NULL, "exported" BOOLEAN DEFAULT FALSE, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "deleted_at" TIMESTAMP WITHOUT TIME ZONE, CONSTRAINT "nhi_record_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE nhi_record;

-- changeset angelchang:147
CREATE TABLE IF NOT EXISTS "niigata_dm_message_event" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "message_type" TEXT NOT NULL, "user_id" INTEGER NOT NULL, CONSTRAINT "niigata_dm_message_event_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE niigata_dm_message_event;

-- changeset angelchang:148
CREATE TABLE IF NOT EXISTS "oral_medicine_connect" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "role" TEXT NOT NULL, "status" TEXT NOT NULL, "serving" numeric, "user_id" INTEGER NOT NULL, "oral_medicine_id" INTEGER NOT NULL, "diary_id" INTEGER, CONSTRAINT "oral_medicine_connect_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE oral_medicine_connect;

-- changeset angelchang:149
CREATE TABLE IF NOT EXISTS "origin_medical_data_monthly_stats" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "user_id" INTEGER NOT NULL, "clinic_id" INTEGER NOT NULL, "care_connect_id" INTEGER NOT NULL, "is_pseudo" BOOLEAN DEFAULT FALSE NOT NULL, "year" INTEGER NOT NULL, "month" INTEGER NOT NULL, "a1c_count" INTEGER DEFAULT 0 NOT NULL, "a1c_avg" FLOAT8 DEFAULT '0' NOT NULL, "ldlc_count" INTEGER DEFAULT 0 NOT NULL, "ldlc_avg" FLOAT8 DEFAULT '0' NOT NULL, "egfr_count" INTEGER DEFAULT 0 NOT NULL, "egfr_avg" FLOAT8 DEFAULT '0' NOT NULL, "uacr_count" INTEGER DEFAULT 0 NOT NULL, "uacr_avg" FLOAT8 DEFAULT '0' NOT NULL, "oral_medicine_classes" TEXT DEFAULT '[]' NOT NULL, "insulin_classes" TEXT DEFAULT '[]' NOT NULL, "combination_classes" TEXT DEFAULT '[]' NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), CONSTRAINT "origin_medical_data_monthly_stats_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE origin_medical_data_monthly_stats;

-- changeset angelchang:150
CREATE TABLE IF NOT EXISTS "origin_medical_data_quarterly_stats" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "user_id" INTEGER NOT NULL, "clinic_id" INTEGER NOT NULL, "care_connect_id" INTEGER NOT NULL, "is_pseudo" BOOLEAN DEFAULT FALSE NOT NULL, "year" INTEGER NOT NULL, "quarter" INTEGER NOT NULL, "a1c_count" INTEGER DEFAULT 0 NOT NULL, "a1c_avg" FLOAT8 DEFAULT '0' NOT NULL, "ldlc_count" INTEGER DEFAULT 0 NOT NULL, "ldlc_avg" FLOAT8 DEFAULT '0' NOT NULL, "egfr_count" INTEGER DEFAULT 0 NOT NULL, "egfr_avg" FLOAT8 DEFAULT '0' NOT NULL, "uacr_count" INTEGER DEFAULT 0 NOT NULL, "uacr_avg" FLOAT8 DEFAULT '0' NOT NULL, "oral_medicine_classes" TEXT DEFAULT '[]' NOT NULL, "insulin_classes" TEXT DEFAULT '[]' NOT NULL, "combination_classes" TEXT DEFAULT '[]' NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), CONSTRAINT "origin_medical_data_quarterly_stats_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE origin_medical_data_quarterly_stats;

-- changeset angelchang:151
CREATE TABLE IF NOT EXISTS "origin_medical_data_yearly_stats" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "user_id" INTEGER NOT NULL, "clinic_id" INTEGER NOT NULL, "care_connect_id" INTEGER NOT NULL, "is_pseudo" BOOLEAN DEFAULT FALSE NOT NULL, "year" INTEGER NOT NULL, "a1c_count" INTEGER DEFAULT 0 NOT NULL, "a1c_avg" FLOAT8 DEFAULT '0' NOT NULL, "ldlc_count" INTEGER DEFAULT 0 NOT NULL, "ldlc_avg" FLOAT8 DEFAULT '0' NOT NULL, "egfr_count" INTEGER DEFAULT 0 NOT NULL, "egfr_avg" FLOAT8 DEFAULT '0' NOT NULL, "uacr_count" INTEGER DEFAULT 0 NOT NULL, "uacr_avg" FLOAT8 DEFAULT '0' NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), CONSTRAINT "origin_medical_data_yearly_stats_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE origin_medical_data_yearly_stats;

-- changeset angelchang:152
CREATE TABLE IF NOT EXISTS "origin_self_measured_monthly_stats" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "user_id" INTEGER NOT NULL, "year" INTEGER NOT NULL, "month" INTEGER NOT NULL, "fbg_count" INTEGER DEFAULT 0 NOT NULL, "fbg_avg" FLOAT8 DEFAULT '0' NOT NULL, "pre_meal_bg_count" INTEGER DEFAULT 0 NOT NULL, "pre_meal_bg_avg" FLOAT8 DEFAULT '0' NOT NULL, "post_meal_bg_count" INTEGER DEFAULT 0 NOT NULL, "post_meal_bg_avg" FLOAT8 DEFAULT '0' NOT NULL, "bp_count" INTEGER DEFAULT 0 NOT NULL, "systolic_avg" FLOAT8 DEFAULT '0' NOT NULL, "diastolic_avg" FLOAT8 DEFAULT '0' NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), CONSTRAINT "origin_self_measured_monthly_stats_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE origin_self_measured_monthly_stats;

-- changeset angelchang:153
CREATE TABLE IF NOT EXISTS "origin_self_measured_quarterly_stats" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "user_id" INTEGER NOT NULL, "year" INTEGER NOT NULL, "quarter" INTEGER NOT NULL, "fbg_count" INTEGER DEFAULT 0 NOT NULL, "fbg_avg" FLOAT8 DEFAULT '0' NOT NULL, "pre_meal_bg_count" INTEGER DEFAULT 0 NOT NULL, "pre_meal_bg_avg" FLOAT8 DEFAULT '0' NOT NULL, "post_meal_bg_count" INTEGER DEFAULT 0 NOT NULL, "post_meal_bg_avg" FLOAT8 DEFAULT '0' NOT NULL, "bp_count" INTEGER DEFAULT 0 NOT NULL, "systolic_avg" FLOAT8 DEFAULT '0' NOT NULL, "diastolic_avg" FLOAT8 DEFAULT '0' NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), CONSTRAINT "origin_self_measured_quarterly_stats_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE origin_self_measured_quarterly_stats;

-- changeset angelchang:154
CREATE TABLE IF NOT EXISTS "partner_nanshan_policy_score" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "policy_no" VARCHAR(255) NOT NULL, "policy_effective_date" date, "total_score" INTEGER NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), CONSTRAINT "partner_nanshan_policy_score_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE partner_nanshan_policy_score;

-- changeset angelchang:155
CREATE TABLE IF NOT EXISTS "partner_quaker_reward" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "user_info_id" INTEGER NOT NULL, CONSTRAINT "partner_quaker_reward_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE partner_quaker_reward;

-- changeset angelchang:156
CREATE TABLE IF NOT EXISTS "partner_quaker_user_info" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "user_id" INTEGER NOT NULL, "name" VARCHAR(255) NOT NULL, "phone_number" VARCHAR(32) NOT NULL, "address" TEXT NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "msg_no" INTEGER DEFAULT 0 NOT NULL, CONSTRAINT "partner_quaker_user_info_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE partner_quaker_user_info;

-- changeset angelchang:157
CREATE TABLE IF NOT EXISTS "password_reset" ("code" TEXT NOT NULL, "avatar_id" INTEGER NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW());
-- rollback: DROP TABLE password_reset;

-- changeset angelchang:158
CREATE TABLE IF NOT EXISTS "peer_bells" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "type" VARCHAR NOT NULL, "status" VARCHAR DEFAULT 'unread' NOT NULL, "data" TEXT DEFAULT '{}' NOT NULL, "user_id" INTEGER NOT NULL, CONSTRAINT "peer_bells_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE peer_bells;

-- changeset angelchang:159
CREATE TABLE IF NOT EXISTS "peer_comment" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "content" TEXT, "status" VARCHAR, "owner_id" INTEGER NOT NULL, "user_id" INTEGER NOT NULL, "mention_id" INTEGER, "parent_id" INTEGER, "attribute" VARCHAR, CONSTRAINT "peer_comment_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE peer_comment;

-- changeset angelchang:160
CREATE TABLE IF NOT EXISTS "peer_profile" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "nickname" TEXT, "experience_story" TEXT, "experience_food" TEXT, "experience_sport" TEXT, "experience_medication" TEXT, "enabled" BOOLEAN DEFAULT FALSE, "user_id" INTEGER, "identify" VARCHAR DEFAULT '' NOT NULL, "new_recommendation" BOOLEAN DEFAULT FALSE, "new_notification" BOOLEAN DEFAULT FALSE, "new_updated" BOOLEAN DEFAULT FALSE, "lang" VARCHAR, "banned" BOOLEAN DEFAULT FALSE, CONSTRAINT "peer_profile_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE peer_profile;

-- changeset angelchang:161
CREATE TABLE IF NOT EXISTS "peer_recommend" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "bucket" INTEGER DEFAULT 0, "score" numeric DEFAULT 0, "user_id" INTEGER NOT NULL, CONSTRAINT "peer_recommend_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE peer_recommend;

-- changeset angelchang:162
CREATE TABLE IF NOT EXISTS "peer_recommend_connect" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "recommended_at" TIMESTAMP WITHOUT TIME ZONE, "similarity_score" INTEGER DEFAULT 0, "owner_id" INTEGER NOT NULL, "user_id" INTEGER NOT NULL, CONSTRAINT "peer_recommend_connect_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE peer_recommend_connect;

-- changeset angelchang:163
CREATE TABLE IF NOT EXISTS "peer_relationship" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "status" VARCHAR, "followed_id" INTEGER NOT NULL, "follower_id" INTEGER NOT NULL, CONSTRAINT "peer_relationship_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE peer_relationship;

-- changeset angelchang:164
CREATE TABLE IF NOT EXISTS "peer_setting" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "notification" TEXT DEFAULT '{}' NOT NULL, "preference" TEXT DEFAULT '{}' NOT NULL, "privacy" TEXT DEFAULT '{}' NOT NULL, "user_id" INTEGER NOT NULL, CONSTRAINT "peer_setting_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE peer_setting;

-- changeset angelchang:165
CREATE TABLE IF NOT EXISTS "peer_status" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "type" VARCHAR NOT NULL, "data" TEXT, "user_id" INTEGER NOT NULL, CONSTRAINT "peer_status_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE peer_status;

-- changeset angelchang:166
CREATE TABLE IF NOT EXISTS "photo_classification" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "is_food" BOOLEAN, "rating" TEXT DEFAULT '{}', "dish" VARCHAR, "user_id" INTEGER NOT NULL, "diary_attachment_id" INTEGER, "moshi_attachment_id" INTEGER, CONSTRAINT "photo_classification_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE photo_classification;

-- changeset angelchang:167
CREATE TABLE IF NOT EXISTS "photo_classification_tag" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "category" VARCHAR NOT NULL, "value" VARCHAR NOT NULL, "user_id" INTEGER NOT NULL, "photo_classification_id" INTEGER NOT NULL, CONSTRAINT "photo_classification_tag_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE photo_classification_tag;

-- changeset angelchang:168
CREATE TABLE IF NOT EXISTS "pm_alert" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "category" TEXT NOT NULL, "data" TEXT DEFAULT '{}', "viewed_at" TIMESTAMP WITHOUT TIME ZONE, "care_connect_id" INTEGER NOT NULL, "patient_id" INTEGER NOT NULL, "scheduled_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "status" TEXT DEFAULT 'unread' NOT NULL, CONSTRAINT "pm_alert_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE pm_alert;

-- changeset angelchang:169
CREATE TABLE IF NOT EXISTS "pm_application_form" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "email" TEXT NOT NULL, "user_name" TEXT NOT NULL, "lang" VARCHAR NOT NULL, "institution_name" TEXT NOT NULL, "institution_type" TEXT NOT NULL, "is_agreed" BOOLEAN DEFAULT FALSE NOT NULL, "division" TEXT, "position" TEXT, "information_come_from" TEXT, "reservations" TEXT DEFAULT '[]', "phone_number" VARCHAR, "address" TEXT, "comment" TEXT, "intermediary" TEXT, "is_needed_demo" BOOLEAN DEFAULT FALSE, CONSTRAINT "pm_application_form_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE pm_application_form;

-- changeset angelchang:170
CREATE TABLE IF NOT EXISTS "pm_broadcast" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "delivered_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "content" TEXT NOT NULL, "status" TEXT, "delivery_type" TEXT, "clinic_id" INTEGER NOT NULL, "sender_id" INTEGER NOT NULL, "attribute" TEXT DEFAULT 'raw_message' NOT NULL, "group_id" INTEGER, CONSTRAINT "pm_broadcast_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE pm_broadcast;

-- changeset angelchang:171
CREATE TABLE IF NOT EXISTS "premium_food" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "name" VARCHAR NOT NULL, "tips" TEXT NOT NULL, "nutritional" TEXT NOT NULL, "categorizes" TEXT DEFAULT '[]' NOT NULL, "gi" VARCHAR DEFAULT '0' NOT NULL, "slug" VARCHAR NOT NULL, "active" BOOLEAN DEFAULT FALSE, "lang" VARCHAR NOT NULL, CONSTRAINT "premium_food_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE premium_food;

-- changeset angelchang:172
CREATE TABLE IF NOT EXISTS "premium_plan" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "months" INTEGER NOT NULL, "os" VARCHAR NOT NULL, "product_id" VARCHAR NOT NULL, "active" BOOLEAN DEFAULT FALSE, CONSTRAINT "premium_plan_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE premium_plan;

-- changeset angelchang:173
CREATE TABLE IF NOT EXISTS "premium_record" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "type" VARCHAR NOT NULL, "source_id" INTEGER, "user_id" INTEGER, "saved" BOOLEAN DEFAULT FALSE, "data" TEXT DEFAULT '{}', "slug" VARCHAR NOT NULL, CONSTRAINT "premium_record_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE premium_record;

-- changeset angelchang:174
CREATE TABLE IF NOT EXISTS "premium_report_history" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "date" date NOT NULL, "data" TEXT DEFAULT '{}' NOT NULL, "user_id" INTEGER NOT NULL, "sent" BOOLEAN DEFAULT FALSE, "filename" VARCHAR, CONSTRAINT "premium_report_history_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE premium_report_history;

-- changeset angelchang:175
CREATE TABLE IF NOT EXISTS "premium_subscription" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "start_date" TIMESTAMP WITHOUT TIME ZONE NOT NULL, "due_date" TIMESTAMP WITHOUT TIME ZONE NOT NULL, "os" VARCHAR, "status" TEXT NOT NULL, "reason" VARCHAR DEFAULT '', "feedback" TEXT, "price" INTEGER DEFAULT 0, "currency_code" VARCHAR, "title" VARCHAR, "transaction_token" VARCHAR, "receipt" TEXT, "user_id" INTEGER NOT NULL, "plan_id" INTEGER, "affiliate_id" INTEGER, "clinic_id" INTEGER, "clinic_subscription_id" INTEGER, CONSTRAINT "premium_subscription_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE premium_subscription;

-- changeset angelchang:176
CREATE TABLE IF NOT EXISTS "premium_tip" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "content" TEXT NOT NULL, "active" BOOLEAN DEFAULT FALSE, "lang" VARCHAR NOT NULL, CONSTRAINT "premium_tip_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE premium_tip;

-- changeset angelchang:177
CREATE TABLE IF NOT EXISTS "prescription_attachment" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "deleted_at" TIMESTAMP WITHOUT TIME ZONE, "url" TEXT, "filename" TEXT, "user_prescription_id" INTEGER, CONSTRAINT "prescription_attachment_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE prescription_attachment;

-- changeset angelchang:178
CREATE TABLE IF NOT EXISTS "product" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "user_id" INTEGER NOT NULL, "serial_number" TEXT NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "status" TEXT DEFAULT 'active' NOT NULL, "firmware" TEXT, "mac_address" TEXT, "name" TEXT, CONSTRAINT "product_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE product;

-- changeset angelchang:179
CREATE TABLE IF NOT EXISTS "program_lifecycle_event" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "user_id" INTEGER NOT NULL, "clinic_id" INTEGER NOT NULL, "event_name" TEXT NOT NULL, CONSTRAINT "program_lifecycle_event_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE program_lifecycle_event;

-- changeset angelchang:180
CREATE TABLE IF NOT EXISTS "pseudo_account_history" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "user_id" INTEGER, "created_by_clinic" INTEGER, "converted_at" TIMESTAMP WITHOUT TIME ZONE, "deleted_at" TIMESTAMP WITHOUT TIME ZONE, CONSTRAINT "pseudo_account_history_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE pseudo_account_history;

-- changeset angelchang:181
CREATE TABLE IF NOT EXISTS "pseudo_account_task_queue" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "clinic_id" INTEGER NOT NULL, "status" TEXT DEFAULT 'pending' NOT NULL, "reason" TEXT, "estimated_completion_at" TIMESTAMP WITHOUT TIME ZONE, "actual_completion_at" TIMESTAMP WITHOUT TIME ZONE, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), CONSTRAINT "pseudo_account_task_queue_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE pseudo_account_task_queue;

-- changeset angelchang:182
CREATE TABLE IF NOT EXISTS "realsun_record" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "medical_institution_code" VARCHAR NOT NULL, "patient_national_id" VARCHAR NOT NULL, "category" VARCHAR NOT NULL, "date" date NOT NULL, "data" TEXT DEFAULT '{}' NOT NULL, "exported" BOOLEAN DEFAULT FALSE, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "deleted_at" TIMESTAMP WITHOUT TIME ZONE, CONSTRAINT "realsun_record_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE realsun_record;

-- changeset angelchang:183
CREATE TABLE IF NOT EXISTS "report_history" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "deliveried_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "status" TEXT NOT NULL, "to_email" TEXT, "owner_id" INTEGER NOT NULL, "file_type" VARCHAR, "use_quota" BOOLEAN DEFAULT FALSE, "data_type" TEXT[] DEFAULT ARRAY[]::character varying[], CONSTRAINT "report_history_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE report_history;

-- changeset angelchang:184
CREATE TABLE IF NOT EXISTS "schemup_tables" ("table_name" VARCHAR NOT NULL, "version" VARCHAR NOT NULL, "is_current" BOOLEAN DEFAULT FALSE NOT NULL, "schema" TEXT, "id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, CONSTRAINT "schemup_tables_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE schemup_tables;

-- changeset angelchang:185
CREATE TABLE IF NOT EXISTS "sdm_report" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "date" date NOT NULL, "data" TEXT DEFAULT '{}' NOT NULL, "user_id" INTEGER NOT NULL, "care_connect_id" INTEGER, CONSTRAINT "sdm_report_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE sdm_report;

-- changeset angelchang:186
CREATE TABLE IF NOT EXISTS "si_access_token" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "revoked_at" TIMESTAMP WITHOUT TIME ZONE, "system_integrator_id" INTEGER NOT NULL, "token" TEXT NOT NULL, "scope" TEXT, CONSTRAINT "si_access_token_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE si_access_token;

-- changeset angelchang:187
CREATE TABLE IF NOT EXISTS "si_clinic_assignment" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "status" TEXT NOT NULL, "system_integrator_id" INTEGER NOT NULL, "clinic_id" INTEGER NOT NULL, CONSTRAINT "si_clinic_assignment_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE si_clinic_assignment;

-- changeset angelchang:188
CREATE TABLE IF NOT EXISTS "slider_event" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "user_id" INTEGER NOT NULL, "key" VARCHAR NOT NULL, "param" TEXT DEFAULT '{}', "status" VARCHAR, "expiration_date" TIMESTAMP WITHOUT TIME ZONE, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), CONSTRAINT "slider_event_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE slider_event;

-- changeset angelchang:189
CREATE TABLE IF NOT EXISTS "slider_record" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "user_id" INTEGER NOT NULL, "category" VARCHAR NOT NULL, "key" VARCHAR NOT NULL, "param" TEXT, "status" VARCHAR, "has_acted" BOOLEAN DEFAULT FALSE, "priority" INTEGER, "expiration_date" TIMESTAMP WITHOUT TIME ZONE, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), CONSTRAINT "slider_record_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE slider_record;

-- changeset angelchang:190
CREATE TABLE IF NOT EXISTS "sms" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "code" TEXT NOT NULL, "phone_number" TEXT NOT NULL, "status" TEXT NOT NULL, "device_id" TEXT NOT NULL, CONSTRAINT "sms_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE sms;

-- changeset angelchang:191
CREATE TABLE IF NOT EXISTS "soap_sync" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "care_connect_id" INTEGER NOT NULL, "log" TEXT, CONSTRAINT "soap_sync_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE soap_sync;

-- changeset angelchang:192
CREATE TABLE IF NOT EXISTS "social_connect" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "token" TEXT NOT NULL, "type" TEXT NOT NULL, "status" TEXT NOT NULL, "user_id" INTEGER, "data" TEXT DEFAULT '{}', "revoke" BOOLEAN DEFAULT FALSE, CONSTRAINT "social_connect_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE social_connect;

-- changeset angelchang:193
CREATE TABLE IF NOT EXISTS "statistics" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "tag" VARCHAR NOT NULL, "value" INTEGER NOT NULL, "data" TEXT, "meta_name" VARCHAR, CONSTRAINT "statistics_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE statistics;

-- changeset angelchang:194
CREATE TABLE IF NOT EXISTS "step" ("id" BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "start_time" TIMESTAMP WITHOUT TIME ZONE, "end_time" TIMESTAMP WITHOUT TIME ZONE, "sync_time" TIMESTAMP WITHOUT TIME ZONE, "value" INTEGER NOT NULL, "source" VARCHAR NOT NULL, "user_id" INTEGER, "run_script" BOOLEAN DEFAULT FALSE NOT NULL, CONSTRAINT "step_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE step;

-- changeset angelchang:195
CREATE TABLE IF NOT EXISTS "system_integrator" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "status" TEXT NOT NULL, "name" TEXT NOT NULL, "email" TEXT NOT NULL, "lang" TEXT NOT NULL, "client_id" TEXT NOT NULL, "client_secret" TEXT NOT NULL, "scope" TEXT, CONSTRAINT "system_integrator_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE system_integrator;

-- changeset angelchang:196
CREATE TABLE IF NOT EXISTS "toolbox_answer" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "moshi_campaign_id" INTEGER, "toolbox_form_id" INTEGER NOT NULL, "toolbox_program_id" INTEGER, "user_id" INTEGER NOT NULL, "answers" JSONB NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "deleted_at" TIMESTAMP WITHOUT TIME ZONE, CONSTRAINT "toolbox_answer_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE toolbox_answer;

-- changeset angelchang:197
CREATE TABLE IF NOT EXISTS "toolbox_article" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "producer_id" INTEGER NOT NULL, "name" TEXT NOT NULL, "filename" TEXT NOT NULL, "estimated_reading_time_in_min" INTEGER, "display_name" TEXT NOT NULL, "content" TEXT NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "activated_at" TIMESTAMP WITHOUT TIME ZONE, "deleted_at" TIMESTAMP WITHOUT TIME ZONE, "status" TEXT DEFAULT 'CASE
    WHEN (deleted_at IS NOT NULL) THEN ''''deleted''''::text
    WHEN (activated_at IS NOT NULL) THEN ''''activated''''::text
    ELSE ''''draft''''::text
END' NOT NULL, "view_users" INTEGER DEFAULT 0 NOT NULL, CONSTRAINT "toolbox_article_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE toolbox_article;

-- changeset angelchang:198
CREATE TABLE IF NOT EXISTS "toolbox_attachment" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "producer_id" INTEGER NOT NULL, "filename" TEXT NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "deleted_at" TIMESTAMP WITHOUT TIME ZONE, CONSTRAINT "toolbox_attachment_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE toolbox_attachment;

-- changeset angelchang:199
CREATE TABLE IF NOT EXISTS "toolbox_form" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "producer_id" INTEGER NOT NULL, "name" TEXT NOT NULL, "display_name" TEXT, "filename" TEXT, "completion_time_in_min" INTEGER, "questions" JSONB, "opened_users" INTEGER DEFAULT 0 NOT NULL, "completed_users" INTEGER DEFAULT 0 NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "activated_at" TIMESTAMP WITHOUT TIME ZONE, "deleted_at" TIMESTAMP WITHOUT TIME ZONE, "status" TEXT DEFAULT 'CASE
    WHEN (deleted_at IS NOT NULL) THEN ''''deleted''''::text
    WHEN (activated_at IS NOT NULL) THEN ''''activated''''::text
    ELSE ''''draft''''::text
END' NOT NULL, CONSTRAINT "toolbox_form_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE toolbox_form;

-- changeset angelchang:200
CREATE TABLE IF NOT EXISTS "toolbox_form_connect" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "toolbox_form_id" INTEGER NOT NULL, "toolbox_program_id" INTEGER, "moshi_campaign_id" INTEGER, "user_id" INTEGER NOT NULL, "status" TEXT NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "deleted_at" TIMESTAMP WITHOUT TIME ZONE, CONSTRAINT "toolbox_form_connect_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE toolbox_form_connect;

-- changeset angelchang:201
CREATE TABLE IF NOT EXISTS "toolbox_message" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "name" TEXT NOT NULL, "producer_id" INTEGER NOT NULL, "status" TEXT NOT NULL, "message_type_id" INTEGER NOT NULL, "image_display_name" TEXT, "image_file_name" TEXT, "content" TEXT, "button_text" TEXT, "button_action_type" TEXT, "button_url" TEXT, "button_share_subject" TEXT, "button_share_body" TEXT, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "activated_at" TIMESTAMP WITHOUT TIME ZONE, "deleted_at" TIMESTAMP WITHOUT TIME ZONE, "article_id" INTEGER, "content_type" TEXT, "page" TEXT, "resource" TEXT, "sub_resource" TEXT, "form_id" INTEGER, CONSTRAINT "toolbox_message_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE toolbox_message;

-- changeset angelchang:202
CREATE TABLE IF NOT EXISTS "toolbox_message_cache" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "name" TEXT NOT NULL, "parent_toolbox_message_id" INTEGER NOT NULL, "message_type_id" INTEGER NOT NULL, "image_display_name" TEXT, "image_file_name" TEXT, "content" TEXT, "button_text" TEXT, "button_action_type" TEXT, "button_url" TEXT, "button_share_subject" TEXT, "button_share_body" TEXT, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), CONSTRAINT "toolbox_message_cache_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE toolbox_message_cache;

-- changeset angelchang:203
CREATE TABLE IF NOT EXISTS "toolbox_message_group" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "producer_id" INTEGER NOT NULL, "name" TEXT NOT NULL, "utilization_method" TEXT, "notification_description" TEXT, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "activated_at" TIMESTAMP WITHOUT TIME ZONE, "deleted_at" TIMESTAMP WITHOUT TIME ZONE, "status" TEXT DEFAULT 'CASE
    WHEN (deleted_at IS NOT NULL) THEN ''''deleted''''::text
    WHEN (activated_at IS NOT NULL) THEN ''''activated''''::text
    ELSE ''''draft''''::text
END' NOT NULL, CONSTRAINT "toolbox_message_group_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE toolbox_message_group;

-- changeset angelchang:204
CREATE TABLE IF NOT EXISTS "toolbox_message_group_connect" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "toolbox_message_id" INTEGER, "toolbox_message_group_id" INTEGER, "seq" INTEGER, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "deleted_at" TIMESTAMP WITHOUT TIME ZONE, CONSTRAINT "toolbox_message_group_connect_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE toolbox_message_group_connect;

-- changeset angelchang:205
CREATE TABLE IF NOT EXISTS "toolbox_message_type" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "name" TEXT NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), CONSTRAINT "toolbox_message_type_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE toolbox_message_type;

-- changeset angelchang:206
CREATE TABLE IF NOT EXISTS "toolbox_producer" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "name" TEXT NOT NULL, "is_access" BOOLEAN DEFAULT FALSE NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "deleted_at" TIMESTAMP WITHOUT TIME ZONE, CONSTRAINT "producer_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE toolbox_producer;

-- changeset angelchang:207
CREATE TABLE IF NOT EXISTS "toolbox_producer_clinic_connect" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "producer_id" INTEGER NOT NULL, "clinic_id" INTEGER NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), CONSTRAINT "producer_clinic_connect_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE toolbox_producer_clinic_connect;

-- changeset angelchang:208
CREATE TABLE IF NOT EXISTS "toolbox_producer_user_connect" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "producer_id" INTEGER NOT NULL, "user_id" INTEGER NOT NULL, "role" TEXT NOT NULL, "first_name" TEXT NOT NULL, "last_name" TEXT NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), CONSTRAINT "producer_user_connect_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE toolbox_producer_user_connect;

-- changeset angelchang:209
CREATE TABLE IF NOT EXISTS "toolbox_program" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "clinic_id" INTEGER, "producer_id" INTEGER NOT NULL, "name" TEXT NOT NULL, "display_name" TEXT, "duration_unit" TEXT, "duration_quantity" INTEGER, "start_condition" TEXT, "lang" TEXT, "plan_id" INTEGER, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "activated_at" TIMESTAMP WITHOUT TIME ZONE, "deleted_at" TIMESTAMP WITHOUT TIME ZONE, "archived_at" TIMESTAMP WITHOUT TIME ZONE, "requested_at" TIMESTAMP WITHOUT TIME ZONE, "active_participants" INTEGER DEFAULT 0 NOT NULL, "total_participants" INTEGER DEFAULT 0 NOT NULL, "status" TEXT DEFAULT 'CASE
    WHEN (deleted_at IS NOT NULL) THEN ''''deleted''''::text
    WHEN (archived_at IS NOT NULL) THEN ''''archived''''::text
    WHEN (activated_at IS NOT NULL) THEN ''''activated''''::text
    WHEN (requested_at IS NOT NULL) THEN ''''requested''''::text
    ELSE ''''draft''''::text
END' NOT NULL, CONSTRAINT "toolbox_program_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE toolbox_program;

-- changeset angelchang:210
CREATE TABLE IF NOT EXISTS "toolbox_program_article_connect" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "toolbox_article_id" INTEGER NOT NULL, "toolbox_program_user_connect_id" INTEGER NOT NULL, "status" TEXT NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "deleted_at" TIMESTAMP WITHOUT TIME ZONE, CONSTRAINT "toolbox_program_article_connect_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE toolbox_program_article_connect;

-- changeset angelchang:211
CREATE TABLE IF NOT EXISTS "toolbox_program_moshi_connect" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "toolbox_program_user_connect_id" INTEGER NOT NULL, "toolbox_message_group_id" INTEGER, "toolbox_message_id" INTEGER, "moshi_id" INTEGER, "status" TEXT NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "deleted_at" TIMESTAMP WITHOUT TIME ZONE, CONSTRAINT "toolbox_program_moshi_connect_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE toolbox_program_moshi_connect;

-- changeset angelchang:212
CREATE TABLE IF NOT EXISTS "toolbox_program_user_connect" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "user_id" INTEGER NOT NULL, "toolbox_program_id" INTEGER NOT NULL, "clinic_subscription_id" INTEGER, "libre_connected_at" TIMESTAMP WITHOUT TIME ZONE, "status" TEXT NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "deleted_at" TIMESTAMP WITHOUT TIME ZONE, CONSTRAINT "toolbox_program_user_connect_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE toolbox_program_user_connect;

-- changeset angelchang:213
CREATE TABLE IF NOT EXISTS "toolbox_schedule" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "toolbox_message_id" INTEGER, "toolbox_message_group_id" INTEGER, "toolbox_program_id" INTEGER, "type" TEXT, "period" TEXT, "start_time" time(6) WITHOUT TIME ZONE, "end_time" time(6) WITHOUT TIME ZONE, "start_by_type" TEXT, "start_by_day" INTEGER, "start_by_weekday" TEXT, "start_by_monthday" INTEGER, "rr_count" INTEGER, "rr_frequency" TEXT, "rr_interval" INTEGER, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "deleted_at" TIMESTAMP WITHOUT TIME ZONE, CONSTRAINT "toolbox_schedule_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE toolbox_schedule;

-- changeset angelchang:214
CREATE TABLE IF NOT EXISTS "toolbox_toolbars" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "name" TEXT NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "deleted_at" TIMESTAMP WITHOUT TIME ZONE, CONSTRAINT "toolbars_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE toolbox_toolbars;

-- changeset angelchang:215
CREATE TABLE IF NOT EXISTS "toolbox_toolbars_permission" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "producer_id" INTEGER NOT NULL, "toolbar_id" INTEGER NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "deleted_at" TIMESTAMP WITHOUT TIME ZONE, CONSTRAINT "toolbars_permission_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE toolbox_toolbars_permission;

-- changeset angelchang:216
CREATE TABLE IF NOT EXISTS "user_a1c" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "value" numeric NOT NULL, "unit" TEXT NOT NULL, "status" TEXT NOT NULL, "recorded_at" date DEFAULT NOW(), "user_id" INTEGER NOT NULL, "note" TEXT, "medical_institution_name" TEXT, "source" TEXT DEFAULT 'manually' NOT NULL, "source_id" TEXT, CONSTRAINT "user_a1c_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE user_a1c;

-- changeset angelchang:217
CREATE TABLE IF NOT EXISTS "user_analysis" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "analysed_at" date NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "user_id" INTEGER NOT NULL, "data" TEXT DEFAULT '{}', CONSTRAINT "user_analysis_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE user_analysis;

-- changeset angelchang:218
CREATE TABLE IF NOT EXISTS "user_cache" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "bmi" numeric, "user_id" INTEGER NOT NULL, "last_two_weeks_average_bg" numeric, "bg_unit" VARCHAR, "step_start_time" TIMESTAMP WITHOUT TIME ZONE, "last_api_access_at" TIMESTAMP WITHOUT TIME ZONE, "last_bg_recorded_at" TIMESTAMP WITHOUT TIME ZONE, "accepted_term_of_service_at" TIMESTAMP WITHOUT TIME ZONE, "last_glucose_value_recorded_at" TIMESTAMP WITHOUT TIME ZONE, "last_cgm_uploaded_at" TIMESTAMP WITHOUT TIME ZONE, CONSTRAINT "user_cache_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE user_cache;

-- changeset angelchang:219
CREATE TABLE IF NOT EXISTS "user_consent_document" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "category" TEXT NOT NULL, "content" TEXT NOT NULL, "language" TEXT DEFAULT 'en-us' NOT NULL, "clinic_id" INTEGER, "fingerprint" TEXT NOT NULL, "country_id" INTEGER, "version" VARCHAR(32), CONSTRAINT "user_consent_document_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE user_consent_document;

-- changeset angelchang:220
CREATE TABLE IF NOT EXISTS "user_consent_history" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "user_id" INTEGER, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "category" TEXT NOT NULL, "accepted_tos_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "fingerprint" TEXT NOT NULL, "guardian_info" TEXT, "is_underage" BOOLEAN, "status" VARCHAR(32), "country_iso_2" TEXT, "external_id" VARCHAR(64), "birthday" date, CONSTRAINT "user_consent_history_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE user_consent_history;

-- changeset angelchang:221
CREATE TABLE IF NOT EXISTS "user_daily_routine" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "user_id" INTEGER NOT NULL, "status" TEXT NOT NULL, "wakeup" VARCHAR NOT NULL, "breakfast" VARCHAR NOT NULL, "lunch" VARCHAR NOT NULL, "dinner" VARCHAR NOT NULL, "bedtime" VARCHAR NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "care_connect_id" INTEGER, "created_by" INTEGER, CONSTRAINT "user_daily_routine_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE user_daily_routine;

-- changeset angelchang:222
CREATE TABLE IF NOT EXISTS "user_exam_unit" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "deleted_at" TIMESTAMP WITHOUT TIME ZONE, "hba1c" TEXT DEFAULT '%' NOT NULL, "total_cholesterol" TEXT DEFAULT 'mg/dL' NOT NULL, "ldl_c" TEXT DEFAULT 'mg/dL' NOT NULL, "hdl_c" TEXT DEFAULT 'mg/dL' NOT NULL, "tg" TEXT DEFAULT 'mg/dL' NOT NULL, "creatinine" TEXT DEFAULT 'mg/dL' NOT NULL, "urine_acr" TEXT DEFAULT 'mg/g' NOT NULL, "urine_pcr" TEXT DEFAULT 'mg/g' NOT NULL, "bun" TEXT DEFAULT 'mg/dL' NOT NULL, "glucose_ac" TEXT DEFAULT 'mg/dL' NOT NULL, "glucose_2hr_pc" TEXT DEFAULT 'mg/dL' NOT NULL, "hemoglobin" TEXT DEFAULT 'g/dL' NOT NULL, "mchc" TEXT DEFAULT 'g/dL' NOT NULL, "uric_acid" TEXT DEFAULT 'mg/dL' NOT NULL, "microalbumin" TEXT DEFAULT 'mg/L' NOT NULL, "creatinine_urine" TEXT DEFAULT 'mg/dL' NOT NULL, "ast" TEXT DEFAULT 'U/L' NOT NULL, "alt" TEXT DEFAULT 'U/L' NOT NULL, "ggt" TEXT DEFAULT 'U/L' NOT NULL, "total_protein" TEXT DEFAULT 'g/dL' NOT NULL, "albumin" TEXT DEFAULT 'g/dL' NOT NULL, "globulin" TEXT DEFAULT 'g/dL' NOT NULL, "total_bilirubin" TEXT DEFAULT 'mg/dL' NOT NULL, "direct_bilirubin" TEXT DEFAULT 'mg/dL' NOT NULL, "alp" TEXT DEFAULT 'U/L' NOT NULL, "amylase" TEXT DEFAULT 'U/L' NOT NULL, "ck" TEXT DEFAULT 'U/L' NOT NULL, "ldh" TEXT DEFAULT 'U/L' NOT NULL, "cortisol" TEXT DEFAULT 'µg/dL' NOT NULL, "tsh" TEXT DEFAULT 'µIU/mL' NOT NULL, "t3_triiodothyronine" TEXT DEFAULT 'ng/dL' NOT NULL, "t4_thyroxine" TEXT DEFAULT 'µg/dL' NOT NULL, "free_t4" TEXT DEFAULT 'ng/dL' NOT NULL, "pth" TEXT DEFAULT 'pg/mL' NOT NULL, "sodium" TEXT DEFAULT 'mmol/L' NOT NULL, "potassium" TEXT DEFAULT 'mmol/L' NOT NULL, "calcium" TEXT DEFAULT 'mmol/L' NOT NULL, "magnesium" TEXT DEFAULT 'mmol/L' NOT NULL, "phosphate" TEXT DEFAULT 'mg/dL' NOT NULL, "iron" TEXT DEFAULT 'µg/dL' NOT NULL, "tibc" TEXT DEFAULT 'µg/dL' NOT NULL, "ferritin" TEXT DEFAULT 'ng/mL' NOT NULL, "user_id" INTEGER NOT NULL, CONSTRAINT "user_exam_unit_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE user_exam_unit;

-- changeset angelchang:223
CREATE TABLE IF NOT EXISTS "user_icd_code" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "clinic_id" INTEGER NOT NULL, "user_id" INTEGER NOT NULL, "care_connect_id" INTEGER NOT NULL, "emr_record_id" INTEGER NOT NULL, "diagnosed_at" date NOT NULL, "icd_code" VARCHAR NOT NULL, CONSTRAINT "user_icd_code_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE user_icd_code;

-- changeset angelchang:224
CREATE TABLE IF NOT EXISTS "user_icd_codes_aggregation" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "user_id" INTEGER NOT NULL, "clinic_id" INTEGER NOT NULL, "care_connect_id" INTEGER NOT NULL, "past_year_icd_codes" TEXT DEFAULT '[]' NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "deleted_at" TIMESTAMP WITHOUT TIME ZONE, CONSTRAINT "user_icd_codes_aggregation_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE user_icd_codes_aggregation;

-- changeset angelchang:225
CREATE TABLE IF NOT EXISTS "user_measurement_plan" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "user_id" INTEGER NOT NULL, "status" TEXT NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "plan" TEXT DEFAULT '[]' NOT NULL, "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "care_connect_id" INTEGER, "created_by" INTEGER, CONSTRAINT "user_measurement_plan_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE user_measurement_plan;

-- changeset angelchang:226
CREATE TABLE IF NOT EXISTS "user_meter" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "user_id" INTEGER NOT NULL, "status" BOOLEAN DEFAULT FALSE, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "meter_id" INTEGER NOT NULL, "serial_number" TEXT, "last_date_time" TIMESTAMP WITHOUT TIME ZONE, "model" TEXT, "mac_address" TEXT, "name" TEXT, "user_tag_id" INTEGER DEFAULT 1, "last_date_times" TEXT DEFAULT '{}', "last_index_of_records" TEXT DEFAULT '{}', "deleted_at" TIMESTAMP WITHOUT TIME ZONE, "sync_method" TEXT, "data_types_of_settings" VARCHAR, "h2_product_id" INTEGER, "auto_sync" BOOLEAN DEFAULT TRUE, "insulin_id" INTEGER, "software_version" VARCHAR, "firmware_version" VARCHAR, "insulin_injector_id" INTEGER, CONSTRAINT "user_meter_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE user_meter;

-- changeset angelchang:227
CREATE TABLE IF NOT EXISTS "user_nhi_p_code" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "clinic_id" INTEGER NOT NULL, "user_id" INTEGER NOT NULL, "care_connect_id" INTEGER NOT NULL, "emr_record_id" INTEGER NOT NULL, "diagnosed_at" date NOT NULL, "p_code" VARCHAR NOT NULL, CONSTRAINT "user_nhi_p_code_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE user_nhi_p_code;

-- changeset angelchang:228
CREATE TABLE IF NOT EXISTS "user_notification_token" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "token" TEXT NOT NULL, "type" TEXT NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "arn" TEXT, "user_token_id" INTEGER, "enabled" BOOLEAN DEFAULT TRUE NOT NULL, CONSTRAINT "user_notification_token_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE user_notification_token;

-- changeset angelchang:229
CREATE TABLE IF NOT EXISTS "user_pref" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "user_id" INTEGER NOT NULL, "meter_brand" TEXT, "meter_model" TEXT, "before_meal_from" numeric DEFAULT 0 NOT NULL, "before_meal_to" numeric DEFAULT 0 NOT NULL, "after_meal_from" numeric DEFAULT 0 NOT NULL, "after_meal_to" numeric DEFAULT 0 NOT NULL, "bedtime_from" numeric DEFAULT 0 NOT NULL, "bedtime_to" numeric DEFAULT 0 NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "meter_id" INTEGER, "care_connect_id" INTEGER, "created_by" INTEGER, "sync_method" VARCHAR, "systolic_from" INTEGER DEFAULT 90, "systolic_to" INTEGER DEFAULT 140, "diastolic_from" INTEGER DEFAULT 60, "diastolic_to" INTEGER DEFAULT 90, "pulse_from" INTEGER DEFAULT 50, "pulse_to" INTEGER DEFAULT 100, "weight_from" numeric, "weight_to" numeric, "body_fat_from" numeric DEFAULT 5, "body_fat_to" numeric DEFAULT 30, "weight_goal" numeric, "body_fat_goal" numeric, "weight_unit" VARCHAR DEFAULT 'kg' NOT NULL, "weight_goal_status" VARCHAR, "body_fat_goal_status" VARCHAR, "reached_weight_goal" BOOLEAN DEFAULT FALSE, "reached_body_fat_goal" BOOLEAN DEFAULT FALSE, "status" VARCHAR DEFAULT 'active' NOT NULL, "weekly_exercise_minutes" INTEGER, "daily_steps" INTEGER, "pressure_unit" VARCHAR DEFAULT 'mmHg' NOT NULL, "meters" TEXT DEFAULT '{}' NOT NULL, "glucose_unit" VARCHAR, CONSTRAINT "user_pref_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE user_pref;

-- changeset angelchang:230
CREATE TABLE IF NOT EXISTS "user_prescription" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "deleted_at" TIMESTAMP WITHOUT TIME ZONE, "start_date" date NOT NULL, "expiration_date" date, "next_refill_date" date, "medicines_data" TEXT DEFAULT '{}' NOT NULL, "clinic_id" INTEGER, "user_id" INTEGER NOT NULL, "clinic_prescription_id" INTEGER, "user_prescription_qr_code_id" INTEGER, "clinic_name" TEXT, "nhi_record_id" INTEGER, CONSTRAINT "user_prescription_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE user_prescription;

-- changeset angelchang:231
CREATE TABLE IF NOT EXISTS "user_prescription_qr_code" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "deleted_at" TIMESTAMP WITHOUT TIME ZONE, "content" TEXT NOT NULL, "user_id" INTEGER NOT NULL, "hash" TEXT NOT NULL, "clinic_code" TEXT, "pharmacy_code" TEXT, CONSTRAINT "user_prescription_qr_code_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE user_prescription_qr_code;

-- changeset angelchang:232
CREATE TABLE IF NOT EXISTS "user_stream" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "category" VARCHAR NOT NULL, "active" BOOLEAN DEFAULT TRUE, "data" TEXT DEFAULT '{}' NOT NULL, "source_id" INTEGER NOT NULL, "user_id" INTEGER NOT NULL, "clinic_id" INTEGER, CONSTRAINT "user_stream_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE user_stream;

-- changeset angelchang:233
CREATE TABLE IF NOT EXISTS "user_stripe" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "user_id" INTEGER NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "customer_id" VARCHAR NOT NULL, "use_default_source" BOOLEAN DEFAULT FALSE NOT NULL, "lang" VARCHAR, CONSTRAINT "user_stripe_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE user_stripe;

-- changeset angelchang:234
CREATE TABLE IF NOT EXISTS "user_token" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), "device_id" TEXT NOT NULL, "access_token" TEXT NOT NULL, "user_id" INTEGER, "is_valid" BOOLEAN DEFAULT TRUE NOT NULL, CONSTRAINT "user_token_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE user_token;

-- changeset angelchang:235
CREATE TABLE IF NOT EXISTS "warp_session" ("uid" BYTEA NOT NULL, "ispersistent" BOOLEAN DEFAULT FALSE NOT NULL, "touched" INTEGER, "avatar_id" INTEGER, "language" VARCHAR, "oidc" TEXT DEFAULT '{}', CONSTRAINT "warp_session_pkey" PRIMARY KEY ("uid"));
-- rollback: DROP TABLE warp_session;

-- changeset angelchang:236
CREATE TABLE IF NOT EXISTS "web_log" ("id" BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL, "user_id" INTEGER, "clinic_id" INTEGER, "endpoint" TEXT, "ip" TEXT, "method" TEXT, "params" TEXT, "user_agent" TEXT, "take_time" numeric, "response_code" INTEGER, "created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW(), CONSTRAINT "web_log_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE web_log;

-- changeset angelchang:237
CREATE TABLE IF NOT EXISTS "web_session" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "uid" BYTEA NOT NULL, "is_persistent" BOOLEAN DEFAULT FALSE NOT NULL, "touched" INTEGER, "language" VARCHAR, "avatar_id" INTEGER, "oidc" TEXT DEFAULT '{}', CONSTRAINT "web_session_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE web_session;

-- changeset angelchang:238
CREATE TABLE IF NOT EXISTS "diary_tag_name" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "tag_value" INTEGER NOT NULL, "tag_name" VARCHAR NOT NULL, "type" VARCHAR NOT NULL, CONSTRAINT "diary_tag_name_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE diary_tag_name;

-- changeset angelchang:239
CREATE TABLE IF NOT EXISTS "country" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "name" TEXT NOT NULL, "iso_2" TEXT NOT NULL, "is_admin" BOOLEAN, "digital_consent_age" INTEGER, CONSTRAINT "country_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE country;

-- changeset angelchang:240
CREATE TABLE IF NOT EXISTS "warp_avatar" ("id" INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL, "email" VARCHAR, "password" VARCHAR, "phone_number" VARCHAR, CONSTRAINT "warp_avatar_pkey" PRIMARY KEY ("id"));
-- rollback: DROP TABLE warp_avatar;

-- changeset angelchang:241
ALTER TABLE "android_device_pattern" ADD CONSTRAINT "pattern_unique_key" UNIQUE ("brand", "model", "get_pattern", "send_pattern", "send_stop_bit_len", "status");
-- rollback: ALTER TABLE android_device_pattern DROP CONSTRAINT pattern_unique_key;
